<html lang="ko" data-phocus-theme="dark">
  <head>
    <script src="https://pagead2.googlesyndication.com/pagead/managed/js/adsense/m202508180101/show_ads_impl_fy2021.js"></script>
    <script
      type="text/javascript"
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=G-96MML77SCQ&amp;cx=c&amp;gtm=453e58j1za200"
    ></script>
    <script type="text/javascript">
      if (!window.T) {
        window.T = {};
      }
      window.T.config = {
        TOP_SSL_URL: "https://www.tistory.com",
        PREVIEW: false,
        ROLE: "owner",
        PREV_PAGE: "",
        NEXT_PAGE: "",
        BLOG: {
          id: 5765047,
          name: "mag1c",
          title: "개발잘하고싶다",
          isDormancy: false,
          nickName: "mag1c",
          status: "open",
          profileStatus: "normal",
        },
        NEED_COMMENT_LOGIN: false,
        COMMENT_LOGIN_CONFIRM_MESSAGE: "",
        LOGIN_URL:
          "https://www.tistory.com/auth/login/?redirectUrl=https://mag1c.tistory.com/578",
        DEFAULT_URL: "https://mag1c.tistory.com",
        USER: {
          name: "mag1c",
          homepage: "https://mag1c.tistory.com",
          id: 5711895,
          profileImage:
            "https://tistory1.daumcdn.net/tistory/5765047/attach/03766535b5904f7e828f4bfd24bb1970",
        },
        SUBSCRIPTION: {
          status: "none",
          isConnected: false,
          isPending: false,
          isWait: false,
          isProcessing: false,
          isNone: true,
        },
        IS_LOGIN: true,
        HAS_BLOG: true,
        IS_SUPPORT: false,
        IS_SCRAPABLE: true,
        TOP_URL: "http://www.tistory.com",
        JOIN_URL: "https://www.tistory.com/member/join",
        PHASE: "prod",
        ROLE_GROUP: "member",
      };
      window.T.entryInfo = {
        entryId: 578,
        isAuthor: true,
        categoryId: 0,
        categoryLabel: null,
      };
      window.appInfo = {
        domain: "tistory.com",
        topUrl: "https://www.tistory.com",
        loginUrl: "https://www.tistory.com/auth/login",
        logoutUrl: "https://www.tistory.com/auth/logout",
      };
      window.initData = {
        user: { id: 5711895, loginId: "95jjh@naver.com", name: "mag1c" },
      };

      window.TistoryBlog = {
        basePath: "",
        url: "https://mag1c.tistory.com",
        tistoryUrl: "https://mag1c.tistory.com",
        manageUrl: "https://mag1c.tistory.com/manage",
        token:
          "RPyY8Ix6G1oKuOi0OleWX4IOYozty0njlTCPVzMbxtlgy2V7AR3+GDFhTCgESXc+",
      };
      var servicePath = "";
      var blogURL = "";
    </script>

    <!-- BusinessLicenseInfo - START -->

    <link
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/plugin/BusinessLicenseInfo/style.css"
      rel="stylesheet"
      type="text/css"
    />

    <script>
      function switchFold(entryId) {
        var businessLayer = document.getElementById(
          "businessInfoLayer_" + entryId
        );

        if (businessLayer) {
          if (businessLayer.className.indexOf("unfold_license") > 0) {
            businessLayer.className = "business_license_layer";
          } else {
            businessLayer.className = "business_license_layer unfold_license";
          }
        }
      }
    </script>

    <!-- BusinessLicenseInfo - END -->
    <!-- DaumShow - START -->
    <style type="text/css">
      #daumSearchBox {
        height: 21px;
        background-image: url(//i1.daumcdn.net/imgsrc.search/search_all/show/tistory/plugin/bg_search2_2.gif);
        margin: 5px auto;
        padding: 0;
      }

      #daumSearchBox input {
        background: none;
        margin: 0;
        padding: 0;
        border: 0;
      }

      #daumSearchBox #daumLogo {
        width: 34px;
        height: 21px;
        float: left;
        margin-right: 5px;
        background-image: url(//i1.daumcdn.net/img-media/tistory/img/bg_search1_2_2010ci.gif);
      }

      #daumSearchBox #show_q {
        background-color: transparent;
        border: none;
        font: 12px Gulim, Sans-serif;
        color: #555;
        margin-top: 4px;
        margin-right: 15px;
        float: left;
      }

      #daumSearchBox #show_btn {
        background-image: url(//i1.daumcdn.net/imgsrc.search/search_all/show/tistory/plugin/bt_search_2.gif);
        width: 37px;
        height: 21px;
        float: left;
        margin: 0;
        cursor: pointer;
        text-indent: -1000em;
      }
    </style>

    <!-- DaumShow - END -->

    <!-- GoogleAnalytics - START -->
    <script
      src="https://www.googletagmanager.com/gtag/js?id=10171474952"
      async="async"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "10171474952", {
        cookie_domain: "auto",
        cookie_flags: "max-age=0;domain=.tistory.com",
        cookie_expires: 7 * 24 * 60 * 60, // 7 days, in seconds
      });
    </script>

    <!-- GoogleAnalytics - END -->

    <!-- System - START -->

    <!-- System - END -->

    <!-- GoogleSearchConsole - START -->

    <!-- BEGIN GOOGLE_SITE_VERIFICATION -->
    <meta
      name="google-site-verification"
      content="1yo0VO45WIXhw2MNmlDSsJSXhZgt4o8ovlT8K9pKLVY"
    />
    <!-- END GOOGLE_SITE_VERIFICATION -->

    <!-- GoogleSearchConsole - END -->

    <!-- TistoryProfileLayer - START -->
    <link
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/plugin/TistoryProfileLayer/style.css"
      rel="stylesheet"
      type="text/css"
    />
    <script
      type="text/javascript"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/plugin/TistoryProfileLayer/script.js"
    ></script>

    <!-- TistoryProfileLayer - END -->

    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="format-detection" content="telephone=no" />
    <script
      src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="//t1.daumcdn.net/tiara/js/v1/tiara.min.js"
    ></script>
    <meta name="referrer" content="always" />
    <meta
      name="google-adsense-platform-account"
      content="ca-host-pub-9691043933427338"
    />
    <meta name="google-adsense-platform-domain" content="tistory.com" />
    <meta name="google-adsense-account" content="ca-pub-7990673941637819" />
    <meta
      name="description"
      content="[목차]1. Rate Limit이란? 설계 시 주의사항2. Token Bucket, Leaky Bucket 알고리즘3. Fixed Window, Sliding Window Logging, Sliding Window Counter 알고리즘 지난 포스팅에선, Bucket 방식의 Token Bucket, Leaky Bucket 알고리즘을 살펴보고, 직접 구현과 테스트를 진행했다.이번 글에선 Window 방식의 알고리즘인 Fixed Window Counter, Sliding Window Logging, Sliding Window Counter을 다룬다. 모든 예제 코드는 아래 Github에서 확인할 수 있다. GitHub - mag123c/rate-limiterContribute to mag123c/rate-.."
    />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mag1c.tistory.com/578" />
    <meta property="og.article.author" content="mag1c" />
    <meta property="og:site_name" content="개발잘하고싶다" />
    <meta
      property="og:title"
      content="[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘"
    />
    <meta name="by" content="mag1c" />
    <meta
      property="og:description"
      content="[목차]1. Rate Limit이란? 설계 시 주의사항2. Token Bucket, Leaky Bucket 알고리즘3. Fixed Window, Sliding Window Logging, Sliding Window Counter 알고리즘 지난 포스팅에선, Bucket 방식의 Token Bucket, Leaky Bucket 알고리즘을 살펴보고, 직접 구현과 테스트를 진행했다.이번 글에선 Window 방식의 알고리즘인 Fixed Window Counter, Sliding Window Logging, Sliding Window Counter을 다룬다. 모든 예제 코드는 아래 Github에서 확인할 수 있다. GitHub - mag123c/rate-limiterContribute to mag123c/rate-.."
    />
    <meta
      property="og:image"
      content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FnGocc%2FbtsPL2HK8SH%2FAAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXzQLxPq7chHhm2voP29vm69Vl4E%253D"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@TISTORY" />
    <meta
      name="twitter:title"
      content="[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘"
    />
    <meta
      name="twitter:description"
      content="[목차]1. Rate Limit이란? 설계 시 주의사항2. Token Bucket, Leaky Bucket 알고리즘3. Fixed Window, Sliding Window Logging, Sliding Window Counter 알고리즘 지난 포스팅에선, Bucket 방식의 Token Bucket, Leaky Bucket 알고리즘을 살펴보고, 직접 구현과 테스트를 진행했다.이번 글에선 Window 방식의 알고리즘인 Fixed Window Counter, Sliding Window Logging, Sliding Window Counter을 다룬다. 모든 예제 코드는 아래 Github에서 확인할 수 있다. GitHub - mag123c/rate-limiterContribute to mag123c/rate-.."
    />
    <meta
      property="twitter:image"
      content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FnGocc%2FbtsPL2HK8SH%2FAAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXzQLxPq7chHhm2voP29vm69Vl4E%253D"
    />
    <meta content="https://mag1c.tistory.com/578" property="dg:plink" />
    <meta name="plink" />
    <meta
      name="title"
      content="[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘"
    />
    <meta name="article:media_name" content="개발잘하고싶다" />
    <meta
      property="article:mobile_url"
      content="https://mag1c.tistory.com/m/578"
    />
    <meta property="article:pc_url" content="https://mag1c.tistory.com/578" />
    <meta
      property="article:mobile_view_url"
      content="https://mag1c.tistory.com/m/578"
    />
    <meta
      property="article:pc_view_url"
      content="https://mag1c.tistory.com/578"
    />
    <meta
      property="article:talk_channel_view_url"
      content="https://mag1c.tistory.com/m/578"
    />
    <meta
      property="article:pc_service_home"
      content="https://www.tistory.com"
    />
    <meta
      property="article:mobile_service_home"
      content="https://www.tistory.com/m"
    />
    <meta property="article:txid" content="5765047_578" />
    <meta
      property="article:published_time"
      content="2025-08-11T18:00:01+09:00"
    />
    <meta property="og:regDate" content="20250809103736" />
    <meta
      property="article:modified_time"
      content="2025-08-11T18:01:32+09:00"
    />
    <script
      type="module"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/pc/dist/index.js"
      defer=""
    ></script>
    <script
      type="text/javascript"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/pc/dist/index-legacy.js"
      defer=""
      nomodule="true"
    ></script>
    <script
      type="text/javascript"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/pc/dist/polyfills-legacy.js"
      defer=""
      nomodule="true"
    ></script>
    <link
      rel="icon"
      sizes="any"
      href="https://t1.daumcdn.net/tistory_admin/favicon/tistory_favicon_32x32.ico"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="https://t1.daumcdn.net/tistory_admin/top_v2/bi-tistory-favicon.svg"
    />
    <link
      rel="apple-touch-icon"
      href="https://t1.daumcdn.net/tistory_admin/top_v2/tistory-apple-touch-favicon.png"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://t1.daumcdn.net/tistory_admin/www/style/font.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/style/content.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/pc/dist/index.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/style/uselessPMargin.css"
    />
    <script type="text/javascript">
      (function () {
        var tjQuery = jQuery.noConflict(true);
        window.tjQuery = tjQuery;
        window.orgjQuery = window.jQuery;
        window.jQuery = tjQuery;
        window.jQuery = window.orgjQuery;
        delete window.orgjQuery;
      })();
    </script>
    <script
      type="text/javascript"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/script/base.js"
    ></script>
    <script
      type="text/javascript"
      src="//developers.kakao.com/sdk/js/kakao.min.js"
    ></script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      [Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding
      Window Counter 알고리즘
    </title>

    <!-- SEO 메타 태그 -->
    <meta name="description" content="diehreo@gmail.com" />
    <meta name="keywords" content="" />
    <link rel="canonical" href="https://mag1c.tistory.com/" />

    <!-- Open Graph 태그 -->
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘"
    />
    <meta property="og:description" content="diehreo@gmail.com" />
    <meta
      property="og:image"
      content="https://tistory1.daumcdn.net/tistory/5765047/attach/03766535b5904f7e828f4bfd24bb1970"
    />
    <meta property="og:url" content="https://mag1c.tistory.com/" />
    <meta property="og:site_name" content="개발잘하고싶다" />

    <!-- Twitter Card 태그 -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘"
    />
    <meta name="twitter:description" content="diehreo@gmail.com" />
    <meta
      name="twitter:image"
      content="https://tistory1.daumcdn.net/tistory/5765047/attach/03766535b5904f7e828f4bfd24bb1970"
    />

    <!-- 티스토리 필수 링크 -->
    <link
      rel="alternate"
      type="application/rss+xml"
      title="개발잘하고싶다"
      href="https://mag1c.tistory.com/rss"
    />
    <link rel="pingback" href="" />

    <!-- 스타일시트 -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory/5765047/skin/style.css?_version_=1755699179"
    />

    <!-- jQuery (티스토리 플러그인용) -->
    <script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script>

    <!-- 구글 애널리틱스 -->
    <script
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=G-96MML77SCQ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-96MML77SCQ");
    </script>

    <!-- 구글 애드센스 -->
    <meta
      name="google-adsense-platform-account"
      content="ca-host-pub-9691043933427338"
    />
    <meta name="google-adsense-platform-domain" content="tistory.com" />
    <script
      async=""
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>

    <!-- 티스토리 기본 기능 (T버튼 없이) -->
    <script type="text/javascript">
      window.hideMenubar = true;
    </script>

    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/style/revenue.css"
    />
    <link rel="canonical" href="https://mag1c.tistory.com/578" />

    <!-- BEGIN STRUCTURED_DATA -->
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@id": "https://mag1c.tistory.com/578",
          "name": null
        },
        "url": "https://mag1c.tistory.com/578",
        "headline": "[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘",
        "description": "[목차]1. Rate Limit이란? 설계 시 주의사항2. Token Bucket, Leaky Bucket 알고리즘3. Fixed Window, Sliding Window Logging, Sliding Window Counter 알고리즘 지난 포스팅에선, Bucket 방식의 Token Bucket, Leaky Bucket 알고리즘을 살펴보고, 직접 구현과 테스트를 진행했다.이번 글에선 Window 방식의 알고리즘인 Fixed Window Counter, Sliding Window Logging, Sliding Window Counter을 다룬다. 모든 예제 코드는 아래 Github에서 확인할 수 있다. GitHub - mag123c/rate-limiterContribute to mag123c/rate-..",
        "author": { "@type": "Person", "name": "mag1c", "logo": null },
        "image": {
          "@type": "ImageObject",
          "url": "https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FnGocc%2FbtsPL2HK8SH%2FAAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXzQLxPq7chHhm2voP29vm69Vl4E%253D",
          "width": "800px",
          "height": "800px"
        },
        "datePublished": "2025-08-11T18:00:01+09:00",
        "dateModified": "2025-08-11T18:01:32+09:00",
        "publisher": {
          "@type": "Organization",
          "name": "TISTORY",
          "logo": {
            "@type": "ImageObject",
            "url": "https://t1.daumcdn.net/tistory_admin/static/images/openGraph/opengraph.png",
            "width": "800px",
            "height": "800px"
          }
        }
      }
    </script>
    <!-- END STRUCTURED_DATA -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/style/dialog.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="//t1.daumcdn.net/tistory_admin/www/style/top/font.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/style/postBtn.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/style/tistory.css"
    />
    <script
      type="text/javascript"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/script/common.js"
    ></script>

    <meta
      http-equiv="origin-trial"
      content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="A9nrunKdU5m96PSN1XsSGr3qOP0lvPFUB2AiAylCDlN5DTl17uDFkpQuHj1AFtgWLxpLaiBZuhrtb2WOu7ofHwEAAACKeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A93bovR+QVXNx2/38qDbmeYYf1wdte9EO37K9eMq3r+541qo0byhYU899BhPB7Cv9QqD7wIbR1B6OAc9kEfYCA4AAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A1S5fojrAunSDrFbD8OfGmFHdRFZymSM/1ss3G+NEttCLfHkXvlcF6LGLH8Mo5PakLO1sCASXU1/gQf6XGuTBgwAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="A9nrunKdU5m96PSN1XsSGr3qOP0lvPFUB2AiAylCDlN5DTl17uDFkpQuHj1AFtgWLxpLaiBZuhrtb2WOu7ofHwEAAACKeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A93bovR+QVXNx2/38qDbmeYYf1wdte9EO37K9eMq3r+541qo0byhYU899BhPB7Cv9QqD7wIbR1B6OAc9kEfYCA4AAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A1S5fojrAunSDrFbD8OfGmFHdRFZymSM/1ss3G+NEttCLfHkXvlcF6LGLH8Mo5PakLO1sCASXU1/gQf6XGuTBgwAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="A9nrunKdU5m96PSN1XsSGr3qOP0lvPFUB2AiAylCDlN5DTl17uDFkpQuHj1AFtgWLxpLaiBZuhrtb2WOu7ofHwEAAACKeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A93bovR+QVXNx2/38qDbmeYYf1wdte9EO37K9eMq3r+541qo0byhYU899BhPB7Cv9QqD7wIbR1B6OAc9kEfYCA4AAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A1S5fojrAunSDrFbD8OfGmFHdRFZymSM/1ss3G+NEttCLfHkXvlcF6LGLH8Mo5PakLO1sCASXU1/gQf6XGuTBgwAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="
    />
    <meta
      http-equiv="origin-trial"
      content="A9nrunKdU5m96PSN1XsSGr3qOP0lvPFUB2AiAylCDlN5DTl17uDFkpQuHj1AFtgWLxpLaiBZuhrtb2WOu7ofHwEAAACKeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A93bovR+QVXNx2/38qDbmeYYf1wdte9EO37K9eMq3r+541qo0byhYU899BhPB7Cv9QqD7wIbR1B6OAc9kEfYCA4AAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <meta
      http-equiv="origin-trial"
      content="A1S5fojrAunSDrFbD8OfGmFHdRFZymSM/1ss3G+NEttCLfHkXvlcF6LGLH8Mo5PakLO1sCASXU1/gQf6XGuTBgwAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"
    />
    <style type="text/css">
      #DragSchLayer {
        display: block;
        position: absolute;
        z-index: 1000;
        width: 61px;
        height: 31px;
        margin: -30px 0px 0px -5px;
        background: url(//search1.daumcdn.net/search/statics/common/pi/btn_drag_rect.png);
        cursor: pointer;
      }
      @media only screen and (-webkit-min-device-pixel-ratio: 1.5),
        only screen and (min-device-pixel-ratio: 1.5),
        only screen and (min-resolution: 1.5dppx) {
        #DragSchLayer {
          background-image: url(//search1.daumcdn.net/search/statics/common/pi/r2/btn_drag_rect.png);
          background-size: 61px 31px;
        }
      }
    </style>
  </head>
  <body id="tt-body-page">
    <!-- 헤더 -->
    <header
      class="site-header"
      style="background: transparent; backdrop-filter: none; box-shadow: none"
    >
      <div class="header-container">
        <h1 class="site-title">
          <a href="https://mag1c.tistory.com/">개발잘하고싶다</a>
        </h1>
        <div class="header-controls">
          <button class="search-toggle" aria-label="검색">
            <svg
              width="28"
              height="28"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
          <button class="menu-toggle" aria-label="메뉴">
            <svg
              width="28"
              height="28"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- 검색 모달 -->
    <div class="search-modal">
      <div class="search-modal-content">
        <button class="search-close">×</button>

        <div class="search-form-wrapper">
          <input
            type="text"
            name="search"
            value=""
            placeholder="검색어를 입력하세요"
            onkeypress="if (event.keyCode == 13) { try {
window.location.href = '/search' + '/' + looseURIEncode(document.getElementsByName('search')[0].value);
document.getElementsByName('search')[0].value = '';
return false;
} catch (e) {} }"
            autofocus=""
          />
          <button
            type="button"
            onclick="try {
window.location.href = '/search' + '/' + looseURIEncode(document.getElementsByName('search')[0].value);
document.getElementsByName('search')[0].value = '';
return false;
} catch (e) {}"
            class="search-submit-btn"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- 사이드바 -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2 class="sidebar-title">개발잘하고싶다</h2>
        <button class="sidebar-close">×</button>
      </div>
      <div class="sidebar-content">
        <nav class="sidebar-nav">
          <!-- 카테고리 -->

          <div class="sidebar-section">
            <h3
              style="
                font-size: 1.1rem;
                margin-bottom: 15px;
                color: var(--text-primary);
              "
            >
              카테고리
            </h3>
            <div class="category-tree">
              <ul class="tt_category">
                <li class="">
                  <a href="/category" class="link_tit">
                    전체 <span class="c_cnt">511</span>
                    <img
                      alt="N"
                      src="https://tistory1.daumcdn.net/tistory_admin/blogs/image/category/new_ico_5.gif"
                      style="vertical-align: middle; padding-left: 2px"
                  /></a>
                  <ul class="category_list">
                    <li class="">
                      <a href="/category/Tech" class="link_item">
                        Tech <span class="c_cnt">324</span>
                      </a>
                      <ul class="sub_category_list">
                        <li class="">
                          <a
                            href="/category/Tech/Java%20%26%20Spring"
                            class="link_sub_item"
                          >
                            Java &amp; Spring <span class="c_cnt">101</span>
                          </a>
                        </li>
                        <li class="">
                          <a href="/category/Tech/Kotlin" class="link_sub_item">
                            Kotlin <span class="c_cnt">3</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/JS%20%26%20TS"
                            class="link_sub_item"
                          >
                            JS &amp; TS <span class="c_cnt">19</span>
                          </a>
                        </li>
                        <li class="">
                          <a href="/category/Tech/NodeJS" class="link_sub_item">
                            NodeJS <span class="c_cnt">20</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4"
                            class="link_sub_item"
                          >
                            데이터베이스 <span class="c_cnt">24</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC"
                            class="link_sub_item"
                          >
                            네트워크 <span class="c_cnt">11</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%ED%8A%B8%EB%9F%AC%EB%B8%94%EC%8A%88%ED%8C%85"
                            class="link_sub_item"
                          >
                            트러블슈팅 <span class="c_cnt">74</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98"
                            class="link_sub_item"
                          >
                            알고리즘 <span class="c_cnt">15</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0"
                            class="link_sub_item"
                          >
                            자료구조 <span class="c_cnt">3</span>
                          </a>
                        </li>
                        <li class="">
                          <a href="/category/Tech/Test" class="link_sub_item">
                            Test <span class="c_cnt">15</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%ED%8C%A8%EB%9F%AC%EB%8B%A4%EC%9E%84"
                            class="link_sub_item"
                          >
                            패러다임 <span class="c_cnt">1</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/Tech/%EA%B8%B0%ED%83%80"
                            class="link_sub_item"
                          >
                            기타 <span class="c_cnt">38</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="">
                      <a href="/category/%EC%82%BD%EC%A7%88" class="link_item">
                        삽질 <span class="c_cnt">36</span>
                      </a>
                      <ul class="sub_category_list">
                        <li class="">
                          <a
                            href="/category/%EC%82%BD%EC%A7%88/%EC%82%AC%EC%9D%B4%EB%93%9C%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8"
                            class="link_sub_item"
                          >
                            사이드 프로젝트 <span class="c_cnt">24</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/%EC%82%BD%EC%A7%88/%EC%97%85%EB%AC%B4"
                            class="link_sub_item"
                          >
                            업무 <span class="c_cnt">12</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="">
                      <a href="/category/OpenSource" class="link_item">
                        OpenSource <span class="c_cnt">6</span>
                      </a>
                    </li>
                    <li class="">
                      <a
                        href="/category/%EA%B3%B5%EB%B6%80%EB%B0%A9"
                        class="link_item"
                      >
                        공부방 <span class="c_cnt">3</span>
                      </a>
                    </li>
                    <li class="">
                      <a href="/category/%ED%9A%8C%EA%B3%A0" class="link_item">
                        회고 <span class="c_cnt">17</span>
                      </a>
                    </li>
                    <li class="">
                      <a href="/category/P.S." class="link_item">
                        P.S. <span class="c_cnt">114</span>
                      </a>
                      <ul class="sub_category_list">
                        <li class="">
                          <a
                            href="/category/P.S./%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4"
                            class="link_sub_item"
                          >
                            프로그래머스 <span class="c_cnt">67</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/P.S./%EB%B0%B1%EC%A4%80"
                            class="link_sub_item"
                          >
                            백준 <span class="c_cnt">39</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/P.S./leetcode"
                            class="link_sub_item"
                          >
                            leetcode <span class="c_cnt">6</span>
                          </a>
                        </li>
                        <li class="">
                          <a
                            href="/category/P.S./HackerRank"
                            class="link_sub_item"
                          >
                            HackerRank <span class="c_cnt">2</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="">
                      <a href="/category/%EC%9E%A1" class="link_item">
                        잡 <span class="c_cnt">10</span>
                        <img
                          alt="N"
                          src="https://tistory1.daumcdn.net/tistory_admin/blogs/image/category/new_ico_5.gif"
                          style="vertical-align: middle; padding-left: 2px"
                      /></a>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>

          <!-- SNS 링크 -->
          <div
            class="sidebar-section"
            style="
              border-top: 1px solid rgba(0, 0, 0, 0.1);
              padding-top: 30px;
              margin-top: 30px;
              display: none;
            "
          >
            <ul class="sidebar-links"></ul>
          </div>

          <!-- 관리자 컨트롤 -->
          <div class="sidebar-section admin-controls">
            <div class="admin-buttons">
              <a href="https://mag1c.tistory.com/manage/post" class="admin-btn"
                >글쓰기</a
              >
              <a href="https://mag1c.tistory.com/manage" class="admin-btn"
                >관리</a
              >
              <a
                href="https://www.tistory.com/auth/logout"
                class="admin-btn"
                onclick="return confirm('로그아웃 하시겠습니까?');"
                >로그아웃</a
              >
            </div>
          </div>

          <!-- 사이드바 푸터 -->
          <div class="sidebar-footer">
            <p class="sidebar-credit">
              Designed by
              <a href="https://mag1c.tistory.com" target="_blank">mag1c</a>
            </p>
          </div>
        </nav>
      </div>
    </aside>

    <!-- 모바일 사이드바 오버레이 -->
    <div class="sidebar-overlay"></div>

    <!-- 메인 컨텐츠 -->
    <main class="main-content" style="height: auto !important">
      <!-- 홈페이지 히어로 캐러셀 (JS로 표시) -->
      <section class="hero-carousel" id="mainCarousel" style="display: none">
        <div class="carousel-container">
          <div class="carousel-track">
            <!-- 캐러셀 슬라이드는 JavaScript로 생성 -->
          </div>

          <!-- 캐러셀 컨트롤 -->
          <button class="carousel-prev" aria-label="이전">
            <svg
              width="40"
              height="40"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <button class="carousel-next" aria-label="다음">
            <svg
              width="40"
              height="40"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>

          <!-- 캐러셀 인디케이터 -->
          <div class="carousel-indicators"></div>

          <!-- 구독 버튼 제거됨 -->
        </div>
      </section>

      <!-- 공지사항 -->

      <!-- 게시글 리스트 섹션 -->

      <!-- 게시글 상세 -->

      <!-- 게시글 히어로 섹션 -->
      <section class="post-hero">
        <div
          class="post-hero-bg"
          style="
            background-image: url('https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FnGocc%2FbtsPL2HK8SH%2FAAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXzQLxPq7chHhm2voP29vm69Vl4E%253D');
          "
        ></div>

        <div class="post-hero-overlay"></div>

        <!-- 히어로 내 헤더 -->
        <header class="site-header hero-header">
          <div class="header-container">
            <h1 class="site-title">
              <a href="https://mag1c.tistory.com/">개발잘하고싶다</a>
            </h1>
            <div class="header-controls">
              <button class="search-toggle" aria-label="검색">
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="11" cy="11" r="8"></circle>
                  <path d="m21 21-4.35-4.35"></path>
                </svg>
              </button>
              <button class="menu-toggle" aria-label="메뉴">
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </button>
            </div>
          </div>
        </header>

        <div class="post-hero-content">
          <h1 class="post-hero-title">
            [Rate Limit - 3] Fixed Window Counter, Sliding Window Logging,
            Sliding Window Counter 알고리즘
          </h1>
          <div class="post-hero-meta">
            <span class="post-hero-category">카테고리 없음</span>

            <span class="post-hero-date">2025. 8. 11. 18:00</span>
          </div>

          <!-- 게시글 소유자 관리 버튼 -->

          <div class="post-hero-admin">
            <a
              href="https://mag1c.tistory.com/manage/post/578?returnURL=ENTRY"
              class="hero-admin-btn"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                ></path>
                <path
                  d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                ></path>
              </svg>
              <span>수정</span>
            </a>
            <a href="#" onclick="" class="hero-admin-btn">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M13.875 18.825A10.05 10.05 0 0 1 12 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 0 1 1.563-3.029m5.858.908a3 3 0 1 1 4.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0 1 12 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 0 1-4.132 5.411m0 0L21 21"
                ></path>
              </svg>
              <span>비공개</span>
            </a>
            <a
              href="#"
              onclick="deleteEntry(578); return false;"
              class="hero-admin-btn delete-btn"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="3 6 5 6 21 6"></polyline>
                <path
                  d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                ></path>
              </svg>
              <span>삭제</span>
            </a>
          </div>
        </div>
      </section>

      <article class="single-post" style="height: auto !important">
        <!-- 보호글 처리 -->

        <div class="post-content" style="height: auto !important">
          <script
            onerror="changeAdsenseToNaverAd()"
            async=""
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9527582522912841"
            crossorigin="anonymous"
            data-checked-head="true"
          ></script>
          <!-- inventory -->
          <ins
            class="adsbygoogle"
            style="margin: 50px 0px; display: block; height: 280px"
            data-ad-client="ca-pub-9527582522912841"
            data-ad-slot="3825649038"
            data-ad-format="auto"
            data-full-width-responsive="true"
            data-ad-type="inventory"
            data-ad-adfit-unit="DAN-nRFiQiN4avFYIKbk"
            data-adsbygoogle-status="done"
            data-ad-status="filled"
            ><div
              id="aswift_0_host"
              style="
                border: none;
                height: 280px;
                width: 1120px;
                margin: 0px;
                padding: 0px;
                position: relative;
                visibility: visible;
                background-color: transparent;
                display: inline-block;
                overflow: visible;
              "
            >
              <iframe
                id="aswift_0"
                name="aswift_0"
                browsingtopics="true"
                style="
                  left: 0;
                  position: absolute;
                  top: 0;
                  border: 0;
                  width: 1120px;
                  height: 280px;
                  min-height: auto;
                  max-height: none;
                  min-width: auto;
                  max-width: none;
                "
                sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
                width="1120"
                height="280"
                frameborder="0"
                marginwidth="0"
                marginheight="0"
                vspace="0"
                hspace="0"
                allowtransparency="true"
                scrolling="no"
                allow="attribution-reporting; run-ad-auction"
                src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-9527582522912841&amp;output=html&amp;h=280&amp;slotname=3825649038&amp;adk=3811636447&amp;adf=94393755&amp;pi=t.ma~as.3825649038&amp;w=1120&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1755763336&amp;rafmt=1&amp;ad_type=inventory&amp;format=1120x280&amp;url=https%3A%2F%2Fmag1c.tistory.com%2F578&amp;host=ca-host-pub-9691043933427338&amp;fwr=0&amp;fwrattr=true&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;uach=WyJtYWNPUyIsIjE1LjMuMiIsImFybSIsIiIsIjEzOS4wLjcyNTguMTI4IixudWxsLDAsbnVsbCwiNjQiLFtbIk5vdDtBPUJyYW5kIiwiOTkuMC4wLjAiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMzkuMC43MjU4LjEyOCJdLFsiQ2hyb21pdW0iLCIxMzkuMC43MjU4LjEyOCJdXSwwXQ..&amp;abgtt=8&amp;dt=1755763336609&amp;bpp=3&amp;bdt=143&amp;idt=69&amp;shv=r20250820&amp;mjsv=m202508180101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D5018e9ccedf0d7c2%3AT%3D1741570656%3ART%3D1755763316%3AS%3DALNI_MatYxTeIInIUA9ZbghaZbF93sM1Cg&amp;gpic=UID%3D0000105a75ec024d%3AT%3D1741570656%3ART%3D1755763316%3AS%3DALNI_MZECL9seRb4ddz2UcE_lXgZK2hhqg&amp;eo_id_str=ID%3Df8536258bd7e30a2%3AT%3D1741570656%3ART%3D1755763316%3AS%3DAA-AfjYxxXNSdWC25VITlOo1bhPZ&amp;correlator=4042369695092&amp;frm=20&amp;pv=2&amp;u_tz=540&amp;u_his=3&amp;u_h=1117&amp;u_w=1728&amp;u_ah=1079&amp;u_aw=1728&amp;u_cd=30&amp;u_sd=2&amp;dmc=8&amp;adx=179&amp;ady=460&amp;biw=1477&amp;bih=992&amp;scr_x=0&amp;scr_y=0&amp;eid=31094074%2C31094152%2C31094155%2C95362656%2C95367554%2C95368763%2C95369706%2C95368522%2C95359265%2C95368427%2C95340253%2C95340255&amp;oid=2&amp;pvsid=8937527436404578&amp;tmod=1468334599&amp;uas=0&amp;nvt=1&amp;ref=https%3A%2F%2Fmag1c.tistory.com%2F&amp;fc=896&amp;brdim=0%2C38%2C0%2C38%2C1728%2C38%2C1728%2C1079%2C1477%2C992&amp;vis=1&amp;rsz=%7C%7CeE%7C&amp;abl=CS&amp;pfx=0&amp;fu=128&amp;bc=31&amp;bz=1.17&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=1&amp;uci=a!1&amp;fsb=1&amp;dtd=75"
                data-google-container-id="a!1"
                tabindex="0"
                title="Advertisement"
                aria-label="Advertisement"
                data-google-query-id="CO3Q_o-4m48DFfeoZgIdVasFmQ"
                data-load-complete="true"
              ></iframe></div
          ></ins>

          <script id="adsense_script">
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
          <script>
            if (window.observeAdsenseUnfilledState !== undefined) {
              observeAdsenseUnfilledState();
            }
          </script>
          <div data-tistory-react-app="NaverAd"></div>

          <!-- System - START -->
          <div class="revenue_unit_wrap">
            <div class="revenue_unit_item adfit">
              <div class="revenue_unit_info">728x90</div>
              <ins
                class="kakao_ad_area"
                style="
                  display: inline-block;
                  position: relative;
                  text-decoration: none;
                  min-width: 728px;
                  min-height: 90px;
                  width: 728px;
                  height: 90px;
                "
                data-ad-unit="DAN-OTmbULCyVaAvzV1W"
                data-ad-width="728px"
                data-ad-height="90px"
                id="kakao_ad_UJnW77"
                ><div
                  data-ad-creative-wrap="outer"
                  style="position: absolute; max-height: inherit; inset: 0px"
                >
                  <div
                    data-ad-creative-wrap="inner"
                    id="27f9edff-200f-45af-b647-cbfd67a9896b"
                    style="
                      position: absolute;
                      top: 0px;
                      left: 0px;
                      width: 100%;
                      height: 100%;
                      max-height: inherit;
                      border: 0px;
                    "
                  >
                    <iframe
                      id="95dc3f96-7771-40bd-8e4d-adda2a9d0146"
                      name='{"id":"27f9edff-200f-45af-b647-cbfd67a9896b","meta":{"shared":{"sf_ver":"1-1-0","ck_on":0,"flash_ver":0,"unitId":"DAN-OTmbULCyVaAvzV1W","requestId":"b2f96ac3-a428-4261-8fc2-9bd44be3ea6f","usePrefersColorScheme":false},"conversionTracking":{"etxId":""},"adAttributes":{"unit":"DAN-OTmbULCyVaAvzV1W","width":"728px","height":"90px"}},"supports":{"exp-ovr":true,"exp-push":true,"read-cookie":false,"write-cookie":false},"geom":{"win":{"t":38,"b":1030,"l":0,"r":1477,"w":1477,"h":992},"self":{"t":-346.5,"b":-256.5,"l":374.5,"r":1102.5,"w":728,"h":90,"xiv":0,"yiv":0,"iv":0,"z":"auto"},"exp":{"t":0,"b":1248.5,"l":374.5,"r":374.5,"xs":0,"ys":0}},"winHasFocus":true,"html":"&lt;!doctype html&gt;\n&lt;html lang=\"ko\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n        &lt;meta http-equiv=\"imagetoolbar\" content=\"no\"&gt;\n        &lt;meta http-equiv=\"imagetoolbar\" content=\"false\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt;\n        &lt;meta name=\"robots\" content=\"noarchive\"&gt;\n        &lt;meta name=\"robots\" content=\"nosnippet\"&gt;\n        &lt;meta name=\"robots\" content=\"noindex\"&gt;\n        &lt;meta name=\"robots\" content=\"nofollow\"&gt;\n        &lt;meta name=\"robots\" content=\"noodp\"&gt;\n        &lt;meta name=\"google\" content=\"notranslate\"&gt;\n        &lt;meta name=\"referrer\" content=\"unsafe-url\"&gt;\n        &lt;title&gt;Advertisement&lt;/title&gt;\n\n        &lt;style type=\"text/css\"&gt;\n                * {\n                    margin: 0;\n                    padding: 0\n                }\n\n                body {\n                    width: 100%;\n                    text-align: center;\n                    background-color: #fff;\n                    -webkit-touch-callout: none\n                }\n\n                #adWrap {\n                    position: relative;\n                    overflow: hidden;\n                    width: 100%;\n                }\n        &lt;/style&gt;\n\n        &lt;link rel=\"dns-prefetch\" href=\"//t1.daumcdn.net\"/&gt;\n        &lt;link rel=\"dns-prefetch\" href=\"//analytics.ad.daum.net\"/&gt;\n    &lt;/head&gt;\n    &lt;body leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\"&gt;\n        &lt;div id=\"adWrap\"&gt;\n            &lt;iframe id=&apos;1c9e87d6&apos; name=&apos;1c9e87d6&apos; src=&apos;https://ads.as.criteo.com/delivery/r/afr.php?z=usZMaE-6_WTU_ujJ6gCgyw&amp;u=%7CRx7H1HiXvjKIBcH7cKWypJ6NJ6vfPTL94mGUlTAEjnI%3D%7C&amp;c1=0n2XosTo5ckbeNFvq0zVIcsyhyT3WKD0h8x1vhtYGkTsbtyQWbBcVUV_hOxmab55W83LuQKYFmLqiW6Vwgp5VqFu1tZns2b-zyrFT2mzACxwjTCtMoUU35ClQgRlfrbtpRIJCNjGg1j89mJqP1wrvvWmqxPrTjfYlArP1nTCtlTYVFW11t_hKMAYrw1fbs4IRVZ-12b1gm3wwoz4DWxTnZaVMpFW-xXs_6kLl-fMKBHdr6_g6TwCfJE2BalWVgT_Lr6OFPIgjhkVFAoqb6RJIER7WZP7fRn7uAOVy5aDw2ALftbLKFFduY26U4xGcPrq8CkPVQ02CG6iB7TwlCN8Qac1uTZX8XVfoXaeCBbe0O3WJeAOpPvzojKufF54LEg-usBzl-69rUg62Iixt7_04ZXpdeHIMcXze_lbYGoMUF6IgxdOt0FpksbHEYuLsQCcBd09yxCOSwKaFOb9y78AXOEAI0JlPEwocYoU5c8c0uA7CW087l6g815KBMQvxeNgKveS_8K_-tABxdeTNwCAKheOa-hMrYqIOsPYrCAgo-1CAcIOPO6TkKHK09c0NkYMRQM3NUiSQp8iRrbFeFHskAv12ryubZRqgeorCpgAYHwQGgQve6DMWWurPrGuW_qDJExLBpIkViRaX1vULwPYPy3d9iUVXd7kXcb_k2Ag8j07-HFBiGK5yIX6asNCNsYHaIi5IYKyfGTTsvAwskXlr6a4fiOCuh8u&amp;ct0=https%3A%2F%2Fkaat.daum.net%2Fad%2Fclick_thirdparty%3Bkyson_version%3D1.0%3Brequest_id%3Db2f96ac3-a428-4261-8fc2-9bd44be3ea6f-OWJx%3Badunit_id%3DDAN-OTmbULCyVaAvzV1W%3Btemplate_seq%3D%3Bsdk_type%3Dweb%3Bmed_dsp_id%3DCRITEO_NEW%3Bbid_id%3D68a6d2889714c74510a2950576e00000%3Bdsp_id%3DCRITEO%3Bhratio%3D%3Bnetwork_type%3DGENERAL%3Bwratio%3D%3Bsdk_version%3D4.34.1%3Bad_type%3DBanner%3Bw%3D728%3Bh%3D90%3Bdummy%3D&apos; framespacing=&apos;0&apos; frameborder=&apos;no&apos; scrolling=&apos;no&apos; width=&apos;728&apos; height=&apos;90&apos;&gt;&lt;/iframe&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n"}'
                      frameborder="0"
                      scrolling="no"
                      marginwidth="0"
                      marginheight="0"
                      allowtransparency="true"
                      src="https://t1.daumcdn.net/kas/static/safeframe.html"
                      style="
                        position: absolute;
                        top: 0px;
                        left: 0px;
                        width: 100%;
                        height: 100%;
                        max-height: inherit;
                        border: 0px;
                        min-width: 728px;
                        min-height: 90px;
                      "
                    ></iframe>
                  </div></div
              ></ins>
              <script
                type="text/javascript"
                src="//t1.daumcdn.net/kas/static/ba.min.js"
                async="async"
              ></script>
            </div>
          </div>
          <div class="revenue_unit_wrap">
            <div class="revenue_unit_item adsense">
              <div class="revenue_unit_info">728x90</div>
              <script
                src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
                async="async"
              ></script>
              <ins
                class="adsbygoogle"
                style="display: inline-block; width: 728px; height: 90px"
                data-ad-host="ca-host-pub-9691043933427338"
                data-ad-client="ca-pub-7990673941637819"
                data-adsbygoogle-status="done"
                data-ad-status="filled"
                ><div
                  id="aswift_1_host"
                  style="
                    border: none;
                    height: 90px;
                    width: 728px;
                    margin: 0px;
                    padding: 0px;
                    position: relative;
                    visibility: visible;
                    background-color: transparent;
                    display: inline-block;
                  "
                >
                  <iframe
                    id="aswift_1"
                    name="aswift_1"
                    browsingtopics="true"
                    style="
                      left: 0;
                      position: absolute;
                      top: 0;
                      border: 0;
                      width: 728px;
                      height: 90px;
                      min-height: auto;
                      max-height: none;
                      min-width: auto;
                      max-width: none;
                    "
                    sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
                    width="728"
                    height="90"
                    frameborder="0"
                    marginwidth="0"
                    marginheight="0"
                    vspace="0"
                    hspace="0"
                    allowtransparency="true"
                    scrolling="no"
                    allow="attribution-reporting; run-ad-auction"
                    src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-7990673941637819&amp;output=html&amp;h=90&amp;adk=4282437615&amp;adf=3756555695&amp;w=728&amp;lmt=1755763336&amp;format=728x90&amp;url=https%3A%2F%2Fmag1c.tistory.com%2F578&amp;host=ca-host-pub-9691043933427338&amp;wgl=1&amp;uach=WyJtYWNPUyIsIjE1LjMuMiIsImFybSIsIiIsIjEzOS4wLjcyNTguMTI4IixudWxsLDAsbnVsbCwiNjQiLFtbIk5vdDtBPUJyYW5kIiwiOTkuMC4wLjAiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMzkuMC43MjU4LjEyOCJdLFsiQ2hyb21pdW0iLCIxMzkuMC43MjU4LjEyOCJdXSwwXQ..&amp;abgtt=8&amp;dt=1755763336612&amp;bpp=1&amp;bdt=146&amp;idt=123&amp;shv=r20250820&amp;mjsv=m202508180101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D5018e9ccedf0d7c2%3AT%3D1741570656%3ART%3D1755763316%3AS%3DALNI_MatYxTeIInIUA9ZbghaZbF93sM1Cg&amp;gpic=UID%3D0000105a75ec024d%3AT%3D1741570656%3ART%3D1755763316%3AS%3DALNI_MZECL9seRb4ddz2UcE_lXgZK2hhqg&amp;eo_id_str=ID%3Df8536258bd7e30a2%3AT%3D1741570656%3ART%3D1755763316%3AS%3DAA-AfjYxxXNSdWC25VITlOo1bhPZ&amp;prev_fmts=1120x280&amp;correlator=4042369695092&amp;frm=20&amp;pv=2&amp;u_tz=540&amp;u_his=3&amp;u_h=1117&amp;u_w=1728&amp;u_ah=1079&amp;u_aw=1728&amp;u_cd=30&amp;u_sd=2&amp;dmc=8&amp;adx=375&amp;ady=910&amp;biw=1477&amp;bih=992&amp;scr_x=0&amp;scr_y=0&amp;eid=31094074%2C31094152%2C31094155%2C95362656%2C95367554%2C95368763%2C95369706%2C95368522%2C95359265%2C95368427%2C95340253%2C95340255&amp;oid=2&amp;pvsid=8937527436404578&amp;tmod=1468334599&amp;uas=0&amp;nvt=1&amp;ref=https%3A%2F%2Fmag1c.tistory.com%2F&amp;fc=896&amp;brdim=0%2C38%2C0%2C38%2C1728%2C38%2C1728%2C1079%2C1477%2C992&amp;vis=1&amp;rsz=%7C%7CoeE%7C&amp;abl=CS&amp;pfx=0&amp;fu=0&amp;bc=31&amp;bz=1.17&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=2&amp;uci=a!2&amp;fsb=1&amp;dtd=129"
                    data-google-container-id="a!2"
                    tabindex="0"
                    title="Advertisement"
                    aria-label="Advertisement"
                    data-google-query-id="CPyngpC4m48DFWmiZgId_iMlvA"
                    data-load-complete="true"
                  ></iframe></div
              ></ins>
              <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            </div>
          </div>
          <!-- System - END -->

          <div class="tt_article_useless_p_margin contents_style">
            <p style="text-align: center" data-ke-size="size16">[목차]</p>
            <p style="text-align: center" data-ke-size="size16">
              <span style="color: #9d9d9d"
                ><u
                  ><a
                    style="color: #9d9d9d"
                    href="https://mag1c.tistory.com/576"
                    >1. Rate Limit이란? 설계 시 주의사항</a
                  ></u
                ></span
              >
            </p>
            <p style="text-align: center" data-ke-size="size16">
              <a
                href="https://mag1c.tistory.com/577"
                target="_blank"
                rel="noopener"
                ><span style="color: #9d9d9d"
                  ><u>2. Token Bucket, Leaky Bucket 알고리즘</u></span
                ></a
              >
            </p>
            <p style="text-align: center" data-ke-size="size16">
              <u
                ><span style="color: #009a87"
                  >3. Fixed Window, Sliding Window Logging, Sliding Window
                  Counter 알고리즘</span
                ></u
              >
            </p>
            <p data-end="669" data-start="632" data-ke-size="size16">&nbsp;</p>
            <p style="text-align: center" data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              지난 포스팅에선, <b>Bucket 방식</b>의 Token Bucket, Leaky Bucket
              알고리즘을 살펴보고, 직접 구현과 테스트를 진행했다.
            </p>
            <p data-ke-size="size16">
              이번 글에선 <b>Window 방식</b>의 알고리즘인
              <b
                >Fixed Window Counter, Sliding Window Logging, Sliding Window
                Counter</b
              >을 다룬다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              모든 예제 코드는 아래 Github에서 확인할 수 있다.
            </p>
            <figure
              id="og_1754744502099"
              contenteditable="false"
              data-ke-type="opengraph"
              data-ke-align="alignCenter"
              data-og-type="object"
              data-og-title="GitHub - mag123c/rate-limiter"
              data-og-description="Contribute to mag123c/rate-limiter development by creating an account on GitHub."
              data-og-host="github.com"
              data-og-source-url="https://github.com/mag123c/rate-limiter"
              data-og-url="https://github.com/mag123c/rate-limiter"
              data-og-image="https://blog.kakaocdn.net/dna/gap4I/hyZuywnFbf/AAAAAAAAAAAAAAAAAAAAAO9OMOgES8Qly_I5oEfDwGL0XgPOLMPf5QCJxecJyWaF/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=bUsO65GWYOJRbBRMcDXxFuPKL7c%3D"
            >
              <a
                href="https://github.com/mag123c/rate-limiter"
                target="_blank"
                rel="noopener"
                data-source-url="https://github.com/mag123c/rate-limiter"
              >
                <div
                  class="og-image"
                  style="
                    background-image: url('https://blog.kakaocdn.net/dna/gap4I/hyZuywnFbf/AAAAAAAAAAAAAAAAAAAAAO9OMOgES8Qly_I5oEfDwGL0XgPOLMPf5QCJxecJyWaF/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=bUsO65GWYOJRbBRMcDXxFuPKL7c%3D');
                  "
                >
                  &nbsp;
                </div>
                <div class="og-text">
                  <p class="og-title" data-ke-size="size16">
                    GitHub - mag123c/rate-limiter
                  </p>
                  <p class="og-desc" data-ke-size="size16">
                    Contribute to mag123c/rate-limiter development by creating
                    an account on GitHub.
                  </p>
                  <p class="og-host" data-ke-size="size16">github.com</p>
                </div>
              </a>
            </figure>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h2 data-ke-size="size26">Fixed Window Counter</h2>
            <p data-ke-size="size16">
              Fixed Window는 일정한 간격의 윈도우로 구간을 나누고, 각 구간마다
              카운터를 붙인다. 예를 들어, 1초마다 윈도우를 나누고 임계치를 3으로
              설정하면, 요청이 들어올 때마다 카운터를 증가시키고, 임계치를
              초과하면 요청을 거부한다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="1104"
              data-origin-height="1004"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/nGocc/btsPL2HK8SH/AAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=XzQLxPq7chHhm2voP29vm69Vl4E%3D"
                data-phocus="https://blog.kakaocdn.net/dna/nGocc/btsPL2HK8SH/AAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=XzQLxPq7chHhm2voP29vm69Vl4E%3D"
                ><img
                  src="https://blog.kakaocdn.net/dna/nGocc/btsPL2HK8SH/AAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=XzQLxPq7chHhm2voP29vm69Vl4E%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FnGocc%2FbtsPL2HK8SH%2FAAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXzQLxPq7chHhm2voP29vm69Vl4E%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="547"
                  height="497"
                  data-origin-width="1104"
                  data-origin-height="1004"
                  data-phocus-index="0"
              /></span>
            </figure>
            <p></p>
            <p data-end="875" data-start="869" data-ke-size="size16">&nbsp;</p>
            <p data-end="875" data-start="869" data-ke-size="size16">&nbsp;</p>
            <h3 data-end="875" data-start="869" data-ke-size="size23">장점</h3>
            <ul
              style="list-style-type: disc"
              data-end="973"
              data-start="876"
              data-ke-list-type="disc"
            >
              <li data-end="908" data-start="876">
                구현이 단순하다. (윈도우 시작 시간과 카운터만 관리)
              </li>
              <li data-end="928" data-start="909">
                메모리 사용이 매우 효율적이다.
              </li>
              <li data-end="973" data-start="929">
                “1초에 3번”, “1분에 100번” 같은 정책을 직관적으로 표현 가능하다.
              </li>
            </ul>
            <h3 data-end="981" data-start="975" data-ke-size="size23">단점</h3>
            <ul
              style="list-style-type: disc"
              data-end="1163"
              data-start="982"
              data-ke-list-type="disc"
            >
              <li data-end="1084" data-start="982">
                경계 구간에서 버스트가 발생할 수 있다.<br />예: 1분에 100회
                제한인데 00:59에 100회, 01:00에 100회 요청이 오면 2초 동안 200회
                처리가 필요하다.
              </li>
              <li data-end="1163" data-start="1085">
                짧은 시간 내 몰리는 트래픽을 균등하게 제어할 수 없다.<br />예:
                같은 윈도우 안에서 동시에 100회 요청이 들어오면 모두 허용된다.
              </li>
            </ul>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-ke-size="size23">만들어보기</h3>
            <pre
              id="code_1754746087554"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">type</span> FixedWindowClearConfig = {
<span class="hljs-attr">callCount</span>: <span class="hljs-built_in">number</span>;
maxCount: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> FixedWindowConfig {
<span class="hljs-attr">threshold</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// 윈도우 내 허용되는 최대 요청 수</span>
windowSizeMs: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// 윈도우 크기 (밀리초)</span>
clearConfig?: FixedWindowClearConfig;
}</code></pre>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              위의 설명처럼 구현이 단순하다. 윈도우 설정에는 임계치와 윈도우
              크기를 지정한다.
            </p>
            <p data-ke-size="size16">
              clearConfig는 카운팅을 통해 LRU 방식으로 데이터를 삭제하려고
              만들어봤다. (Redis의 TTL처럼 구현할 계획이다.)
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <pre
              id="code_1754746324281"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">type</span> FixedWindow = {
<span class="hljs-attr">counter</span>: <span class="hljs-built_in">number</span>;
windowStart: <span class="hljs-built_in">number</span>;
};</code></pre>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              윈도우는, 특정 요청 주체의 counter와 마지막 요청 시간을 기록한다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <pre
              id="code_1754746237113"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FixedWindowRateLimiter</span> <span class="hljs-title">implements</span> <span class="hljs-title">RateLimiter</span> </span>{
<span class="hljs-keyword">private</span> windows: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, FixedWindow&gt; = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();

<span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> config: FixedWindowConfig</span>)</span> {}

tryConsume(key: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">if</span> (
<span class="hljs-built_in">this</span>.config.clearConfig?.callCount &amp;&amp;
<span class="hljs-built_in">this</span>.config.clearConfig?.maxCount &amp;&amp;
<span class="hljs-built_in">this</span>.config.clearConfig.callCount &gt;= <span class="hljs-built_in">this</span>.config.clearConfig.maxCount
) {
<span class="hljs-built_in">this</span>.cleanupExpiredWindows();
<span class="hljs-built_in">this</span>.config.clearConfig.callCount++;
}

<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.canConsumeRequest(key)) {
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Rate Limit Exceeded for key: <span class="hljs-subst">${key}</span>`</span>);
}
<span class="hljs-built_in">this</span>.increaseCounter(key);
}

<span class="hljs-keyword">private</span> canConsumeRequest(key: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span> {
<span class="hljs-keyword">let</span> <span class="hljs-built_in">window</span> = <span class="hljs-built_in">this</span>.windows.get(key);
<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>) {
<span class="hljs-built_in">window</span> = <span class="hljs-built_in">this</span>.createWindow(key);
}
<span class="hljs-built_in">this</span>.initializeCounter(<span class="hljs-built_in">window</span>);
<span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.counter &lt; <span class="hljs-built_in">this</span>.config.threshold;
}

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-title">increaseCounter</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span></span>)</span> {
<span class="hljs-keyword">const</span> <span class="hljs-built_in">window</span> = <span class="hljs-built_in">this</span>.windows.get(key);
<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>) {
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Window not found for key: <span class="hljs-subst">${key}</span>`</span>);
}
<span class="hljs-built_in">window</span>.counter++;
}

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-title">initializeCounter</span>(<span class="hljs-params"><span class="hljs-built_in">window</span>: FixedWindow</span>)</span> {
<span class="hljs-keyword">const</span> now = <span class="hljs-built_in">Date</span>.now();
<span class="hljs-keyword">if</span> (now - <span class="hljs-built_in">window</span>.windowStart &gt;= <span class="hljs-built_in">this</span>.config.windowSizeMs) {
<span class="hljs-built_in">window</span>.counter = <span class="hljs-number">0</span>;
<span class="hljs-built_in">window</span>.windowStart = now;
}
}

<span class="hljs-keyword">private</span> createWindow(key: <span class="hljs-built_in">string</span>): FixedWindow {
<span class="hljs-keyword">const</span> <span class="hljs-built_in">window</span>: FixedWindow = {
<span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>,
<span class="hljs-attr">windowStart</span>: <span class="hljs-built_in">Date</span>.now(),
};
<span class="hljs-built_in">this</span>.windows.set(key, <span class="hljs-built_in">window</span>);
<span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>;
}

<span class="hljs-comment">// TTL 기반 삭제</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-title">cleanupExpiredWindows</span>(<span class="hljs-params"></span>)</span> {
<span class="hljs-keyword">const</span> now = <span class="hljs-built_in">Date</span>.now();
<span class="hljs-keyword">const</span> ttl = <span class="hljs-built_in">this</span>.config.windowSizeMs * <span class="hljs-number">10</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, <span class="hljs-built_in">window</span>] <span class="hljs-keyword">of</span> <span class="hljs-built_in">this</span>.windows.entries()) {
<span class="hljs-keyword">if</span> (now - <span class="hljs-built_in">window</span>.windowStart &gt;= ttl) {
<span class="hljs-built_in">this</span>.windows.delete(key);
}
}
}
}</code></pre>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">구현 또한 매우 단순하다.</p>
            <ul style="list-style-type: disc" data-ke-list-type="disc">
              <li>
                요청이 들어올 때 마다 카운터를 초기화해야한다면 초기화한다.
                그렇지 않다면 유지한다
              </li>
              <li>
                카운터 설정에 설정된 임계치를 카운터가 초과했다면 429를
                반환한다.
              </li>
            </ul>
            <p data-ke-size="size16">
              Redis TTL을 비슷하게 구현해보고자 cleanupExpiredWindows()를
              clearConfig와 엮어 구현해본 것이 커스터마이징의 전부였고, 구현에
              별다른 어려움은 없다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-ke-size="size23">통합 테스트</h3>
            <pre
              id="code_1754746479441"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">"supertest"</span>;
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../app"</span>;
<span class="hljs-keyword">import</span> { createFixedWindowMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">"../middleware"</span>;

describe(<span class="hljs-string">"Fixed Window Rate Limiter Integration"</span>, <span class="hljs-function">() =&gt;</span> {
afterEach(<span class="hljs-function">() =&gt;</span> {
jest.useRealTimers();
});

it(<span class="hljs-string">"윈도우 내의 임계치에 도달하면 429 에러가 발생한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> threshold = <span class="hljs-number">10</span>;
<span class="hljs-keyword">const</span> windowSizeMs = <span class="hljs-number">5000</span>;
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware({
threshold,
windowSizeMs,
});

<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [rateLimiter],
});

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; threshold; i++) {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(response.status).toBe(<span class="hljs-number">200</span>);
}

<span class="hljs-keyword">const</span> rejectedResponse = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(rejectedResponse.status).toBe(<span class="hljs-number">429</span>);
expect(rejectedResponse.body.error).toBe(<span class="hljs-string">"Too Many Requests"</span>);
});

it(<span class="hljs-string">"다른 IP 주소는 독립적인 rate limit을 가진다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware({
<span class="hljs-attr">threshold</span>: <span class="hljs-number">2</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">5000</span>,
});

<span class="hljs-keyword">const</span> app = createApp({ <span class="hljs-attr">middlewares</span>: [rateLimiter] });

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"1.1.1.1"</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"1.1.1.1"</span>);

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"2.2.2.2"</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"2.2.2.2"</span>);

<span class="hljs-keyword">const</span> response1 = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"1.1.1.1"</span>);
<span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"2.2.2.2"</span>);

expect(response1.status).toBe(<span class="hljs-number">429</span>);
expect(response2.status).toBe(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"동시 요청 처리 시 정확한 카운팅"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> threshold = <span class="hljs-number">50</span>;
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware({
threshold,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">5000</span>,
});

<span class="hljs-keyword">const</span> app = createApp({ <span class="hljs-attr">middlewares</span>: [rateLimiter] });

<span class="hljs-comment">// 50개 동시 요청</span>
<span class="hljs-keyword">const</span> promises = <span class="hljs-built_in">Array</span>(threshold)
.fill(<span class="hljs-literal">null</span>)
.map(<span class="hljs-function">() =&gt;</span> request(app).get(<span class="hljs-string">"/"</span>));

<span class="hljs-keyword">const</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all(promises);
<span class="hljs-keyword">const</span> successCount = responses.filter(<span class="hljs-function">(<span class="hljs-params">r</span>) =&gt;</span> r.status === <span class="hljs-number">200</span>).length;
<span class="hljs-keyword">const</span> failCount = responses.filter(<span class="hljs-function">(<span class="hljs-params">r</span>) =&gt;</span> r.status === <span class="hljs-number">429</span>).length;

<span class="hljs-comment">// 정확히 threshold만큼만 성공</span>
expect(successCount).toBe(threshold);
expect(failCount).toBe(<span class="hljs-number">0</span>);

<span class="hljs-comment">// 추가 요청은 실패</span>
<span class="hljs-keyword">const</span> extraResponse = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(extraResponse.status).toBe(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"커스텀 키 생성기 사용 시 올바르게 동작"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware(
{
<span class="hljs-attr">threshold</span>: <span class="hljs-number">2</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">5000</span>,
},
{
<span class="hljs-attr">keyGenerator</span>: <span class="hljs-function">(<span class="hljs-params">req</span>) =&gt;</span>
req.headers[<span class="hljs-string">"api-key"</span>]?.toString() || <span class="hljs-string">"anonymous"</span>,
}
);

<span class="hljs-keyword">const</span> app = createApp({ <span class="hljs-attr">middlewares</span>: [rateLimiter] });

<span class="hljs-comment">// API 키 "key1"로 2번 요청</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"key1"</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"key1"</span>);

<span class="hljs-comment">// API 키 "key2"로 2번 요청</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"key2"</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"key2"</span>);

<span class="hljs-comment">// 각 키별로 임계치 확인</span>
<span class="hljs-keyword">const</span> response1 = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"key1"</span>);
<span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"key2"</span>);

expect(response1.status).toBe(<span class="hljs-number">429</span>);
expect(response2.status).toBe(<span class="hljs-number">429</span>);

<span class="hljs-comment">// anonymous 키는 별도 카운트</span>
<span class="hljs-keyword">const</span> anonymousResponse = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(anonymousResponse.status).toBe(<span class="hljs-number">200</span>);
});

it(<span class="hljs-string">"윈도우 경계에서 burst traffic 발생 가능 (Fixed Window의 한계)"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> threshold = <span class="hljs-number">10</span>;
<span class="hljs-keyword">const</span> windowSizeMs = <span class="hljs-number">1000</span>; <span class="hljs-comment">// 1초</span>
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware({
threshold,
windowSizeMs,
});

<span class="hljs-keyword">const</span> app = createApp({ <span class="hljs-attr">middlewares</span>: [rateLimiter] });

<span class="hljs-comment">// 실제 시간 기반 테스트</span>
<span class="hljs-keyword">const</span> startTime = <span class="hljs-built_in">Date</span>.now();

<span class="hljs-comment">// 첫 번째 윈도우에서 threshold만큼 요청</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; threshold; i++) {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(response.status).toBe(<span class="hljs-number">200</span>);
}

<span class="hljs-comment">// 윈도우가 끝날 때까지 대기</span>
<span class="hljs-keyword">const</span> elapsedTime = <span class="hljs-built_in">Date</span>.now() - startTime;
<span class="hljs-keyword">const</span> remainingTime = windowSizeMs - elapsedTime + <span class="hljs-number">100</span>; <span class="hljs-comment">// 여유 시간 추가</span>

<span class="hljs-keyword">if</span> (remainingTime &gt; <span class="hljs-number">0</span>) {
<span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, remainingTime));
}

<span class="hljs-comment">// 새 윈도우에서 다시 threshold만큼 요청 가능 (threshold * 2 BURST)</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; threshold; i++) {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(response.status).toBe(<span class="hljs-number">200</span>);
}
});

it(<span class="hljs-string">"skip 옵션 사용 시 특정 요청은 rate limit 제외"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware(
{
<span class="hljs-attr">threshold</span>: <span class="hljs-number">2</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">5000</span>,
},
{
<span class="hljs-attr">skip</span>: <span class="hljs-function">(<span class="hljs-params">req</span>) =&gt;</span> req.path === <span class="hljs-string">"/health"</span>,
}
);

<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [rateLimiter],
<span class="hljs-attr">setupRoutes</span>: <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> {
app.get(<span class="hljs-string">"/health"</span>, <span class="hljs-function">(<span class="hljs-params">_req, res</span>) =&gt;</span> res.json({ <span class="hljs-attr">status</span>: <span class="hljs-string">"ok"</span> }));
app.get(<span class="hljs-string">"/api/users"</span>, <span class="hljs-function">(<span class="hljs-params">_req, res</span>) =&gt;</span> res.json({ <span class="hljs-attr">users</span>: [] }));
},
});

<span class="hljs-comment">// 일반 요청은 rate limit 적용</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/users"</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/users"</span>);
<span class="hljs-keyword">const</span> limitedResponse = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/users"</span>);
expect(limitedResponse.status).toBe(<span class="hljs-number">429</span>);

<span class="hljs-comment">// health check는 rate limit 제외</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/health"</span>);
expect(response.status).toBe(<span class="hljs-number">200</span>);
}
});

it(<span class="hljs-string">"onLimitReached 콜백이 호출된다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">let</span> callbackCalled = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">let</span> limitedPath = <span class="hljs-string">""</span>;

<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware(
{
<span class="hljs-attr">threshold</span>: <span class="hljs-number">1</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">5000</span>,
},
{
<span class="hljs-attr">onLimitReached</span>: <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
callbackCalled = <span class="hljs-literal">true</span>;
limitedPath = req.path;
res.status(<span class="hljs-number">429</span>).json({ <span class="hljs-attr">error</span>: <span class="hljs-string">"Custom limit message"</span> });
},
}
);

<span class="hljs-keyword">const</span> app = createApp({ <span class="hljs-attr">middlewares</span>: [rateLimiter] });

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/test"</span>);
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/test"</span>);

expect(callbackCalled).toBe(<span class="hljs-literal">true</span>);
expect(limitedPath).toBe(<span class="hljs-string">"/test"</span>);
expect(response.status).toBe(<span class="hljs-number">429</span>);
expect(response.body.error).toBe(<span class="hljs-string">"Custom limit message"</span>);
});

it(<span class="hljs-string">"다양한 HTTP 메서드에 대해 동일하게 작동"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> rateLimiter = createFixedWindowMiddleware({
<span class="hljs-attr">threshold</span>: <span class="hljs-number">5</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">5000</span>,
});

<span class="hljs-keyword">const</span> app = createApp({ <span class="hljs-attr">middlewares</span>: [rateLimiter] });

<span class="hljs-comment">// 다양한 메서드로 요청</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
<span class="hljs-keyword">await</span> request(app).post(<span class="hljs-string">"/"</span>);
<span class="hljs-keyword">await</span> request(app).put(<span class="hljs-string">"/"</span>);
<span class="hljs-keyword">await</span> request(app).delete(<span class="hljs-string">"/"</span>);
<span class="hljs-keyword">await</span> request(app).patch(<span class="hljs-string">"/"</span>);

<span class="hljs-comment">// 임계치 도달</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>);
expect(response.status).toBe(<span class="hljs-number">429</span>);
});
});</code></pre>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="1144"
              data-origin-height="594"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/mbu7U/btsPLPIxHr2/AAAAAAAAAAAAAAAAAAAAANiagD1_bA8WZz8_iFo8qup6OUdsJTaHlQdSpIpXFi30/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=j%2FyFxQNFerZYh6%2FzOUFQg7T2ZLA%3D"
                data-phocus="https://blog.kakaocdn.net/dna/mbu7U/btsPLPIxHr2/AAAAAAAAAAAAAAAAAAAAANiagD1_bA8WZz8_iFo8qup6OUdsJTaHlQdSpIpXFi30/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=j%2FyFxQNFerZYh6%2FzOUFQg7T2ZLA%3D"
                ><img
                  src="https://blog.kakaocdn.net/dna/mbu7U/btsPLPIxHr2/AAAAAAAAAAAAAAAAAAAAANiagD1_bA8WZz8_iFo8qup6OUdsJTaHlQdSpIpXFi30/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=j%2FyFxQNFerZYh6%2FzOUFQg7T2ZLA%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Fmbu7U%2FbtsPLPIxHr2%2FAAAAAAAAAAAAAAAAAAAAANiagD1_bA8WZz8_iFo8qup6OUdsJTaHlQdSpIpXFi30%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3Dj%252FyFxQNFerZYh6%252FzOUFQg7T2ZLA%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="1144"
                  height="594"
                  data-origin-width="1144"
                  data-origin-height="594"
                  data-phocus-index="1"
              /></span>
            </figure>
            <p></p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              기본적인 기능들과 더불어, 단점들에 대해서도 테스트가 통과되는
              모습이다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h2 data-ke-size="size26">Sliding Window Logging</h2>
            <p data-ke-size="size16">
              Fixed Window Counter의 가장 큰 한계는
              <i><span style="color: #ee2323">윈도우 경계 부근 버스트</span></i
              >를 막을 방법이 없다는 점이다. Sliding Window Logging은 이를
              해결한다. 아래 설명들을 보면 알겠지만, 스코어를 저장하여 순서대로
              로깅하고 조회할 수 있는 Redis ZSET을 이용하여 구현이 쉽게
              가능하다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="1846"
              data-origin-height="1104"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/ZmOo4/btsPN7HY4ay/AAAAAAAAAAAAAAAAAAAAAKYVazrrN_DUCobugZqGeZZ9FgaC9Yku9FTEMaYDyE6r/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=4aLRyF0PVW%2BrwvyQ%2BUryfJdZBjM%3D"
                data-phocus="https://blog.kakaocdn.net/dna/ZmOo4/btsPN7HY4ay/AAAAAAAAAAAAAAAAAAAAAKYVazrrN_DUCobugZqGeZZ9FgaC9Yku9FTEMaYDyE6r/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=4aLRyF0PVW%2BrwvyQ%2BUryfJdZBjM%3D"
                ><img
                  src="https://blog.kakaocdn.net/dna/ZmOo4/btsPN7HY4ay/AAAAAAAAAAAAAAAAAAAAAKYVazrrN_DUCobugZqGeZZ9FgaC9Yku9FTEMaYDyE6r/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=4aLRyF0PVW%2BrwvyQ%2BUryfJdZBjM%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FZmOo4%2FbtsPN7HY4ay%2FAAAAAAAAAAAAAAAAAAAAAKYVazrrN_DUCobugZqGeZZ9FgaC9Yku9FTEMaYDyE6r%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3D4aLRyF0PVW%252BrwvyQ%252BUryfJdZBjM%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="1846"
                  height="1104"
                  data-origin-width="1846"
                  data-origin-height="1104"
                  data-phocus-index="2"
              /></span>
            </figure>
            <p></p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-end="1346" data-start="1337" data-ke-size="size23">
              동작 원리
            </h3>
            <ol
              style="list-style-type: decimal"
              data-end="1431"
              data-start="1347"
              data-ke-list-type="decimal"
            >
              <li data-end="1371" data-start="1347">
                요청 시 타임스탬프를 로그에 기록한다. (1, 2)
              </li>
              <li data-end="1396" data-start="1372">
                만료된 타임스탬프는 로그에서 제거한다. (3)
              </li>
              <li data-end="1431" data-start="1397">
                로그 크기가 임계치 이하이면 요청 허용, 초과하면 거부. (3, 4)
              </li>
            </ol>
            <p data-end="1537" data-start="1433" data-ke-size="size16">
              이 방식은
              <i><span style="color: #ee2323">정적인 경계가 없으므로</span></i>
              언제나 임계치 이하로만 처리할 수 있다.<br />다만, 거부된 요청의
              타임스탬프도 기록하기 때문에 Fixed Window 대비 메모리를 더
              사용한다.
            </p>
            <p data-end="1537" data-start="1433" data-ke-size="size16">
              &nbsp;
            </p>
            <h3 data-end="1545" data-start="1539" data-ke-size="size23">
              장점
            </h3>
            <ul
              style="list-style-type: disc"
              data-end="1583"
              data-start="1546"
              data-ke-list-type="disc"
            >
              <li data-end="1560" data-start="1546">버스트 방지에 강하다.</li>
              <li data-end="1583" data-start="1561">
                처리율을 안정적으로 유지할 수 있다.
              </li>
            </ul>
            <h3 data-end="1591" data-start="1585" data-ke-size="size23">
              단점
            </h3>
            <ul
              style="list-style-type: disc"
              data-end="1660"
              data-start="1592"
              data-ke-list-type="disc"
            >
              <li data-end="1609" data-start="1592">
                로그 크기만큼 메모리 사용.
              </li>
              <li data-end="1660" data-start="1610">
                요청 수가 많으면 GC/CPU 부하가 커질 수 있음(배열 filter 기반
                구현 시).
              </li>
            </ul>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-ke-size="size23">만들어보기</h3>
            <pre
              id="code_1754790576332"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> SlidingWindowConfig {
<span class="hljs-attr">threshold</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// 윈도우 내 허용되는 최대 요청 수</span>
windowSizeMs: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// 윈도우 크기 (밀리초)</span>
}</code></pre>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              윈도우 방식의 알고리즘들은 기본 설정은 비슷하다. 이번에도 역시
              임계치와 윈도우 사이즈만 기본 설정에 넣었다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <pre
              id="code_1754790848347"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SlidingWindowLoggingRateLimiter</span> <span class="hljs-title">implements</span> <span class="hljs-title">RateLimiter</span> </span>{
<span class="hljs-keyword">private</span> timestamps: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>[]&gt; = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();

<span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> config: SlidingWindowLoggingConfig</span>)</span> {}

tryConsume(key: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">const</span> now = <span class="hljs-built_in">Date</span>.now();
<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.canConsumeRequest(key, now)) {
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Rate limit exceeded`</span>);
}
<span class="hljs-built_in">this</span>.addTimestamp(key, now);
}

<span class="hljs-keyword">private</span> canConsumeRequest(key: <span class="hljs-built_in">string</span>, <span class="hljs-attr">now</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span> {
<span class="hljs-keyword">let</span> timestamps = <span class="hljs-built_in">this</span>.timestamps.get(key);
<span class="hljs-keyword">if</span> (!timestamps) {
timestamps = [];
<span class="hljs-built_in">this</span>.timestamps.set(key, timestamps);
}

<span class="hljs-keyword">const</span> windowStart = now - <span class="hljs-built_in">this</span>.config.windowSizeMs;

<span class="hljs-comment">// 윈도우 내의 요청만 필터링</span>
<span class="hljs-keyword">const</span> validTimestamps = timestamps.filter(
<span class="hljs-function">(<span class="hljs-params">timestamp</span>) =&gt;</span> timestamp &gt;= windowStart
);

<span class="hljs-comment">// 메모리 효율을 위해 오래된 타임스탬프 제거</span>
<span class="hljs-keyword">if</span> (validTimestamps.length !== timestamps.length) {
<span class="hljs-built_in">this</span>.timestamps.set(key, validTimestamps);
}

<span class="hljs-keyword">return</span> validTimestamps.length &lt; <span class="hljs-built_in">this</span>.config.threshold;
}

<span class="hljs-keyword">private</span> addTimestamp(key: <span class="hljs-built_in">string</span>, <span class="hljs-attr">now</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">const</span> timestamps = <span class="hljs-built_in">this</span>.timestamps.get(key);
<span class="hljs-keyword">if</span> (!timestamps) {
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Timestamps not found for key: <span class="hljs-subst">${key}</span>`</span>);
}
timestamps.push(now);
}
}</code></pre>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              순수 JS로 구현했기에 filter을 사용했지만, 매커니즘은 똑같다.
            </p>
            <p data-ke-size="size16">
              요청 시점에 타임스탬프 로그들을 적재하고 제거한다. 그리고 요청이
              수행될 수 있는지를 검증하여 작업 요청을 통과시키거나 드랍시킨다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-ke-size="size23">통합 테스트</h3>
            <pre
              id="code_1754791000882"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">"supertest"</span>;
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../app"</span>;
<span class="hljs-keyword">import</span> { createSlidingWindowLoggingMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">"../middleware"</span>;
<span class="hljs-keyword">import</span> { SlidingWindowLoggingConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">"../config"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { Express } <span class="hljs-keyword">from</span> <span class="hljs-string">"express"</span>;

describe(<span class="hljs-string">"SlidingWindowLogging Integration"</span>, <span class="hljs-function">() =&gt;</span> {
<span class="hljs-keyword">let</span> app: Express;
<span class="hljs-keyword">let</span> config: SlidingWindowLoggingConfig;

beforeEach(<span class="hljs-function">() =&gt;</span> {
jest.useFakeTimers();
config = {
<span class="hljs-attr">threshold</span>: <span class="hljs-number">5</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>, <span class="hljs-comment">// 1초 윈도우</span>
};
<span class="hljs-keyword">const</span> middleware = createSlidingWindowLoggingMiddleware(config);
app = createApp({ <span class="hljs-attr">middlewares</span>: [middleware] });
});

afterEach(<span class="hljs-function">() =&gt;</span> {
jest.useRealTimers();
});

it(<span class="hljs-string">"임계치까지 요청을 허용해야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> responses = [];

<span class="hljs-comment">// 5개의 요청 모두 성공해야 함</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"192.168.1.100"</span>);
responses.push(response);
}

responses.forEach(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
expect(response.status).toBe(<span class="hljs-number">200</span>);
expect(response.body.message).toBe(<span class="hljs-string">"Test endpoint"</span>);
});
});

it(<span class="hljs-string">"임계치 초과 시 429 응답을 반환해야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-comment">// 5개의 요청 성공</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"192.168.1.100"</span>);
}

<span class="hljs-comment">// 6번째 요청은 429 응답</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"192.168.1.100"</span>);

expect(response.status).toBe(<span class="hljs-number">429</span>);
expect(response.body.error).toBe(<span class="hljs-string">"Too Many Requests"</span>);
});

it(<span class="hljs-string">"다른 IP 주소는 독립적인 rate limit을 가져야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-comment">// IP1에 대해 5개 요청</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"192.168.1.100"</span>);
}

<span class="hljs-comment">// IP2는 여전히 요청 가능</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"192.168.1.200"</span>);

expect(response.status).toBe(<span class="hljs-number">200</span>);

<span class="hljs-comment">// IP1은 더 이상 요청 불가</span>
<span class="hljs-keyword">const</span> blockedResponse = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"192.168.1.100"</span>);

expect(blockedResponse.status).toBe(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"슬라이딩 윈도우가 정확하게 동작해야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> ip = <span class="hljs-string">"192.168.1.100"</span>;

<span class="hljs-comment">// 0ms: 2개 요청</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

<span class="hljs-comment">// 300ms: 2개 요청</span>
jest.advanceTimersByTime(<span class="hljs-number">300</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

<span class="hljs-comment">// 700ms: 1개 요청 (총 5개)</span>
jest.advanceTimersByTime(<span class="hljs-number">400</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

<span class="hljs-comment">// 6번째 요청은 실패</span>
<span class="hljs-keyword">const</span> blockedResponse = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
expect(blockedResponse.status).toBe(<span class="hljs-number">429</span>);

<span class="hljs-comment">// 1001ms: 처음 2개가 윈도우를 벗어남</span>
jest.advanceTimersByTime(<span class="hljs-number">301</span>);

<span class="hljs-comment">// 이제 2개 더 요청 가능</span>
<span class="hljs-keyword">const</span> response1 = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

expect(response1.status).toBe(<span class="hljs-number">200</span>);
expect(response2.status).toBe(<span class="hljs-number">200</span>);

<span class="hljs-comment">// 다시 임계치에 도달</span>
<span class="hljs-keyword">const</span> finalBlockedResponse = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
expect(finalBlockedResponse.status).toBe(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"동시 요청을 정확히 처리해야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> ip = <span class="hljs-string">"192.168.1.100"</span>;

<span class="hljs-comment">// 6개의 동시 요청</span>
<span class="hljs-keyword">const</span> promises = <span class="hljs-built_in">Array</span>(<span class="hljs-number">6</span>)
.fill(<span class="hljs-literal">null</span>)
.map(<span class="hljs-function">() =&gt;</span>
request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip)
.catch(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> err.response)
);

<span class="hljs-keyword">const</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all(promises);

<span class="hljs-comment">// 5개는 성공, 1개는 실패</span>
<span class="hljs-keyword">const</span> successCount = responses.filter(<span class="hljs-function">(<span class="hljs-params">r</span>) =&gt;</span> r.status === <span class="hljs-number">200</span>).length;
<span class="hljs-keyword">const</span> failCount = responses.filter(<span class="hljs-function">(<span class="hljs-params">r</span>) =&gt;</span> r.status === <span class="hljs-number">429</span>).length;

expect(successCount).toBe(<span class="hljs-number">5</span>);
expect(failCount).toBe(<span class="hljs-number">1</span>);
});

it(<span class="hljs-string">"커스텀 키 생성기를 사용할 수 있어야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> customMiddleware = createSlidingWindowLoggingMiddleware(
config,
{
<span class="hljs-attr">keyGenerator</span>: <span class="hljs-function">(<span class="hljs-params">req: <span class="hljs-built_in">any</span></span>) =&gt;</span> req.headers[<span class="hljs-string">"api-key"</span>] || <span class="hljs-string">"anonymous"</span>,
}
);
<span class="hljs-keyword">const</span> customApp = createApp({ <span class="hljs-attr">middlewares</span>: [customMiddleware] });

<span class="hljs-comment">// 같은 API 키로 5개 요청</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">await</span> request(customApp).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user-123"</span>);
}

<span class="hljs-comment">// 6번째 요청은 실패</span>
<span class="hljs-keyword">const</span> blockedResponse = <span class="hljs-keyword">await</span> request(customApp)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user-123"</span>);

expect(blockedResponse.status).toBe(<span class="hljs-number">429</span>);

<span class="hljs-comment">// 다른 API 키는 성공</span>
<span class="hljs-keyword">const</span> differentKeyResponse = <span class="hljs-keyword">await</span> request(customApp)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user-456"</span>);

expect(differentKeyResponse.status).toBe(<span class="hljs-number">200</span>);
});

it(<span class="hljs-string">"skip 옵션으로 특정 요청을 제외할 수 있어야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> skipMiddleware = createSlidingWindowLoggingMiddleware(
config,
{
<span class="hljs-attr">skip</span>: <span class="hljs-function">(<span class="hljs-params">req: <span class="hljs-built_in">any</span></span>) =&gt;</span> req.headers[<span class="hljs-string">"skip-rate-limit"</span>] === <span class="hljs-string">"true"</span>,
}
);
<span class="hljs-keyword">const</span> skipApp = createApp({ <span class="hljs-attr">middlewares</span>: [skipMiddleware] });

<span class="hljs-keyword">const</span> ip = <span class="hljs-string">"192.168.1.100"</span>;

<span class="hljs-comment">// 5개의 일반 요청</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">await</span> request(skipApp).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
}

<span class="hljs-comment">// skip 헤더가 있는 요청은 rate limit 무시</span>
<span class="hljs-keyword">const</span> skipResponse = <span class="hljs-keyword">await</span> request(skipApp)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip)
.set(<span class="hljs-string">"skip-rate-limit"</span>, <span class="hljs-string">"true"</span>);

expect(skipResponse.status).toBe(<span class="hljs-number">200</span>);

<span class="hljs-comment">// skip 헤더가 없는 요청은 여전히 차단</span>
<span class="hljs-keyword">const</span> blockedResponse = <span class="hljs-keyword">await</span> request(skipApp)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

expect(blockedResponse.status).toBe(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"onLimitReached 콜백이 호출되어야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> onLimitReached = jest.fn(<span class="hljs-function">(<span class="hljs-params">_req, res</span>) =&gt;</span> {
res.status(<span class="hljs-number">429</span>).json({ <span class="hljs-attr">error</span>: <span class="hljs-string">"Too Many Requests"</span> });
});
<span class="hljs-keyword">const</span> callbackMiddleware = createSlidingWindowLoggingMiddleware(
config,
{
onLimitReached,
}
);
<span class="hljs-keyword">const</span> callbackApp = createApp({ <span class="hljs-attr">middlewares</span>: [callbackMiddleware] });

<span class="hljs-keyword">const</span> ip = <span class="hljs-string">"192.168.1.100"</span>;

<span class="hljs-comment">// 5개의 요청</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">await</span> request(callbackApp).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
}

expect(onLimitReached).not.toHaveBeenCalled();

<span class="hljs-comment">// 6번째 요청 시 콜백 호출</span>
<span class="hljs-keyword">await</span> request(callbackApp).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

expect(onLimitReached).toHaveBeenCalledTimes(<span class="hljs-number">1</span>);
expect(onLimitReached).toHaveBeenCalledWith(
expect.objectContaining({
<span class="hljs-attr">ip</span>: ip,
}),
expect.any(<span class="hljs-built_in">Object</span>)
);
});

it(<span class="hljs-string">"다양한 HTTP 메서드를 지원해야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> ip = <span class="hljs-string">"192.168.1.100"</span>;

<span class="hljs-comment">// 다양한 메서드로 요청</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">await</span> request(app).post(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">await</span> request(app).put(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">await</span> request(app).delete(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
<span class="hljs-keyword">await</span> request(app).patch(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

<span class="hljs-comment">// 6번째 요청은 메서드와 관계없이 차단</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

expect(response.status).toBe(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"Fixed Window와 달리 윈도우 경계에서 버스트가 발생하지 않아야 한다"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> ip = <span class="hljs-string">"192.168.1.100"</span>;

<span class="hljs-comment">// 윈도우 끝 부분에서 5개 요청</span>
jest.advanceTimersByTime(<span class="hljs-number">900</span>); <span class="hljs-comment">// 900ms 시점</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/api/test"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);
}

<span class="hljs-comment">// 100ms 후 (새 윈도우 시작)</span>
jest.advanceTimersByTime(<span class="hljs-number">100</span>);

<span class="hljs-comment">// Fixed Window와 달리 여전히 5개가 윈도우 내에 있음</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

expect(response.status).toBe(<span class="hljs-number">429</span>); <span class="hljs-comment">// 여전히 차단됨</span>

<span class="hljs-comment">// 901ms 더 지나야 첫 요청이 윈도우를 벗어남 (총 1001ms)</span>
jest.advanceTimersByTime(<span class="hljs-number">901</span>);

<span class="hljs-comment">// 이제 요청 가능</span>
<span class="hljs-keyword">const</span> allowedResponse = <span class="hljs-keyword">await</span> request(app)
.get(<span class="hljs-string">"/api/test"</span>)
.set(<span class="hljs-string">"X-Forwarded-For"</span>, ip);

expect(allowedResponse.status).toBe(<span class="hljs-number">200</span>);
});
});</code></pre>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="1172"
              data-origin-height="544"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/bLuu6V/btsPNpvn4z3/AAAAAAAAAAAAAAAAAAAAAAuGkraSsCCxbr5CQ4loGS_8lDADCa4dU80kof58avsX/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=NFeLvpaBC8WqLYvsfvmEQM2iRSI%3D"
                data-phocus="https://blog.kakaocdn.net/dna/bLuu6V/btsPNpvn4z3/AAAAAAAAAAAAAAAAAAAAAAuGkraSsCCxbr5CQ4loGS_8lDADCa4dU80kof58avsX/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=NFeLvpaBC8WqLYvsfvmEQM2iRSI%3D"
                ><img
                  src="https://blog.kakaocdn.net/dna/bLuu6V/btsPNpvn4z3/AAAAAAAAAAAAAAAAAAAAAAuGkraSsCCxbr5CQ4loGS_8lDADCa4dU80kof58avsX/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=NFeLvpaBC8WqLYvsfvmEQM2iRSI%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbLuu6V%2FbtsPNpvn4z3%2FAAAAAAAAAAAAAAAAAAAAAAuGkraSsCCxbr5CQ4loGS_8lDADCa4dU80kof58avsX%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DNFeLvpaBC8WqLYvsfvmEQM2iRSI%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="1172"
                  height="544"
                  data-origin-width="1172"
                  data-origin-height="544"
                  data-phocus-index="3"
              /></span>
            </figure>
            <p></p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h2 data-ke-size="size26">Sliding Window Counter</h2>
            <p data-ke-size="size16">
              Sliding Window Counter는 Fixed Window Counter와 Sliding Window
              Logging의 절충안이다.<br />현재 윈도우와 직전 윈도우의 카운트만
              저장해 <i><span style="color: #ee2323">가중 평균</span></i
              >으로 요청률을 추정한다.
            </p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-end="1881" data-start="1872" data-ke-size="size23">
              계산 공식
            </h3>
            <div>
              <blockquote data-ke-style="style2">
                추정 요청 수 = 현재 윈도우 카운트 + (직전 윈도우 카운트 × 겹치는
                비율)
              </blockquote>
            </div>
            <ul
              style="list-style-type: disc"
              data-end="2096"
              data-start="1935"
              data-ke-list-type="disc"
            >
              <li data-end="1966" data-start="1935">
                <b>현재 윈도우 카운트</b>: 현재 윈도우 내 요청 수
              </li>
              <li data-end="1998" data-start="1967">
                <b>직전 윈도우 카운트</b>: 이전 윈도우 내 요청 수
              </li>
              <li data-end="2096" data-start="1999">
                <b>겹치는 비율</b>: 현재 시점에서 이전 윈도우가 겹치는 비율
              </li>
            </ul>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-end="2104" data-start="2098" data-ke-size="size23">
              예시
            </h3>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="978"
              data-origin-height="834"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/bYbBi8/btsPMXlGyno/AAAAAAAAAAAAAAAAAAAAAB23C50qzMFOvNrNa43z60jo24QbYXf2U7z-LklGrpit/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=Nn3SSWhG2q83mLv9w%2FIXjMAWbbM%3D"
                data-phocus="https://blog.kakaocdn.net/dna/bYbBi8/btsPMXlGyno/AAAAAAAAAAAAAAAAAAAAAB23C50qzMFOvNrNa43z60jo24QbYXf2U7z-LklGrpit/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=Nn3SSWhG2q83mLv9w%2FIXjMAWbbM%3D"
                ><img
                  src="https://blog.kakaocdn.net/dna/bYbBi8/btsPMXlGyno/AAAAAAAAAAAAAAAAAAAAAB23C50qzMFOvNrNa43z60jo24QbYXf2U7z-LklGrpit/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=Nn3SSWhG2q83mLv9w%2FIXjMAWbbM%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbYbBi8%2FbtsPMXlGyno%2FAAAAAAAAAAAAAAAAAAAAAB23C50qzMFOvNrNa43z60jo24QbYXf2U7z-LklGrpit%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DNn3SSWhG2q83mLv9w%252FIXjMAWbbM%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="475"
                  height="405"
                  data-origin-width="978"
                  data-origin-height="834"
                  data-phocus-index="4"
              /></span>
            </figure>
            <p></p>
            <p data-ke-size="size16">
              <br />위 그림은 윈도우 크기가 1000ms, 임계치가 10이며 이전
              윈도우에서 요청을 8개 처리했고, 현재 윈도우에서 1500ms에서 요청이
              3개 들어온 상황이다.
            </p>
            <ul style="list-style-type: disc" data-ke-list-type="disc">
              <li>현재 윈도우의 요청 카운터: 3</li>
              <li>직전 윈도우의 요청 카운터: 8</li>
              <li>
                직전 윈도우와의 겹치는 비율: 0.5 (1500ms에서 요청이 왔기 때문에,
                딱 절반에 해당함)
              </li>
              <li>
                3 + 8 x 0.5 = 7이므로 1500ms에서는 3개의 요청을 더 허용할 수
                있다.
              </li>
            </ul>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-end="2279" data-start="2273" data-ke-size="size23">
              장점
            </h3>
            <ul
              style="list-style-type: disc"
              data-end="2398"
              data-start="2280"
              data-ke-list-type="disc"
            >
              <li data-end="2307" data-start="2280">
                키당 두 개의 숫자만 저장 → 메모리 효율적.
              </li>
              <li data-end="2356" data-start="2308">
                경계 부근에서도 부드럽게 제한 적용 → Fixed Window의 버스트 문제
                해결.
              </li>
            </ul>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-end="2406" data-start="2400" data-ke-size="size23">
              단점
            </h3>
            <ul
              style="list-style-type: disc"
              data-end="2458"
              data-start="2407"
              data-ke-list-type="disc"
            >
              <li data-end="2431" data-start="2407">
                근사치 기반이라 100% 정확하진 않음. (직전 시간대에 도착한 요청에
                대한 계산은 전혀 수행하지 않음)
              </li>
            </ul>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              <a
                href="https://blog.cloudflare.com/counting-things-a-lot-of-different-things/"
                target="_blank"
                rel="noopener"
                >Cloudflare의 기술 블로그에 따르면</a
              >, 40억 개의 요청에 대한 실험 결과에서 문제 발생 비율은 단
              0.003%에 불과했다고 한다.
            </p>
            <p data-ke-size="size16">(그래서 단점이라 보기에 좀 애매할 듯)</p>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="1578"
              data-origin-height="844"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/cDf0zv/btsPO7Hwqs7/AAAAAAAAAAAAAAAAAAAAAC9behhNYkXMMW5wDeVLP1C4SkcPu5kXINGrJOI98RBS/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=HliEsQTT4PLemGK1eR7Al%2FknW4M%3D"
                data-phocus="https://blog.kakaocdn.net/dna/cDf0zv/btsPO7Hwqs7/AAAAAAAAAAAAAAAAAAAAAC9behhNYkXMMW5wDeVLP1C4SkcPu5kXINGrJOI98RBS/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=HliEsQTT4PLemGK1eR7Al%2FknW4M%3D"
                data-alt="cloudflare 기술 블로그 발췌"
                ><img
                  src="https://blog.kakaocdn.net/dna/cDf0zv/btsPO7Hwqs7/AAAAAAAAAAAAAAAAAAAAAC9behhNYkXMMW5wDeVLP1C4SkcPu5kXINGrJOI98RBS/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=HliEsQTT4PLemGK1eR7Al%2FknW4M%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FcDf0zv%2FbtsPO7Hwqs7%2FAAAAAAAAAAAAAAAAAAAAAC9behhNYkXMMW5wDeVLP1C4SkcPu5kXINGrJOI98RBS%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DHliEsQTT4PLemGK1eR7Al%252FknW4M%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="733"
                  height="392"
                  data-origin-width="1578"
                  data-origin-height="844"
                  data-phocus-index="5"
              /></span>
              <figcaption>cloudflare 기술 블로그 발췌</figcaption>
            </figure>
            <p></p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-ke-size="size23">만들어보기</h3>
            <pre
              id="code_1754792594293"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> SlidingWindowCounterConfig {
<span class="hljs-attr">threshold</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// 윈도우 내 허용되는 최대 요청 수</span>
windowSizeMs: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// 윈도우 크기 (밀리초)</span>
}</code></pre>
            <pre
              id="code_1754792611193"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">type</span> WindowCounter = {
<span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>;
windowStart: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SlidingWindowCounterRateLimiter</span> <span class="hljs-title">implements</span> <span class="hljs-title">RateLimiter</span> </span>{
<span class="hljs-keyword">private</span> previousWindows: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, WindowCounter&gt; = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();
<span class="hljs-keyword">private</span> currentWindows: <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">string</span>, WindowCounter&gt; = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();

<span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> config: SlidingWindowCounterConfig</span>)</span> {}

tryConsume(key: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">const</span> now = <span class="hljs-built_in">Date</span>.now();
<span class="hljs-keyword">const</span> currentWindowStart = <span class="hljs-built_in">this</span>.getCurrentWindowStart(now);

<span class="hljs-built_in">this</span>.updateWindows(key, currentWindowStart);

<span class="hljs-comment">// 현재 요청을 추가한 후의 예상 rate 계산</span>
<span class="hljs-keyword">const</span> wouldBeRate = <span class="hljs-built_in">this</span>.calculatePotentialRate(key, now, currentWindowStart);

<span class="hljs-keyword">if</span> (wouldBeRate &gt; <span class="hljs-built_in">this</span>.config.threshold) {
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Rate Limit Exceeded for key: <span class="hljs-subst">${key}</span>`</span>);
}

<span class="hljs-built_in">this</span>.increaseCounter(key);
}

<span class="hljs-keyword">private</span> increaseCounter(key: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">const</span> currentWindow = <span class="hljs-built_in">this</span>.currentWindows.get(key);
<span class="hljs-keyword">if</span> (!currentWindow) {
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Window not found for key: <span class="hljs-subst">${key}</span>`</span>);
}
currentWindow.count++;
}

<span class="hljs-keyword">private</span> updateWindows(key: <span class="hljs-built_in">string</span>, <span class="hljs-attr">currentWindowStart</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">let</span> currentWindow = <span class="hljs-built_in">this</span>.currentWindows.get(key);

<span class="hljs-keyword">if</span> (!currentWindow || currentWindow.windowStart !== currentWindowStart) {
<span class="hljs-keyword">if</span> (currentWindow) {
<span class="hljs-built_in">this</span>.previousWindows.set(key, currentWindow);
}
currentWindow = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">windowStart</span>: currentWindowStart };
<span class="hljs-built_in">this</span>.currentWindows.set(key, currentWindow);
}
}

<span class="hljs-keyword">private</span> calculatePotentialRate(key: <span class="hljs-built_in">string</span>, <span class="hljs-attr">now</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">currentWindowStart</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
<span class="hljs-keyword">const</span> currentWindow = <span class="hljs-built_in">this</span>.currentWindows.get(key);
<span class="hljs-keyword">if</span> (!currentWindow) {
<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// 윈도우가 없으면 새 요청 1개만 계산</span>
}

<span class="hljs-keyword">const</span> previousWindow = <span class="hljs-built_in">this</span>.previousWindows.get(key);
<span class="hljs-keyword">const</span> previousWindowStart = currentWindowStart - <span class="hljs-built_in">this</span>.config.windowSizeMs;

<span class="hljs-comment">// 현재 윈도우 카운트에 1을 추가한 값으로 계산</span>
<span class="hljs-keyword">let</span> rate = currentWindow.count + <span class="hljs-number">1</span>;

<span class="hljs-keyword">if</span> (previousWindow &amp;&amp; previousWindow.windowStart === previousWindowStart) {
<span class="hljs-comment">// 현재 윈도우에서 경과한 시간</span>
<span class="hljs-keyword">const</span> elapsedInCurrentWindow = now - currentWindowStart;
<span class="hljs-comment">// 이전 윈도우와 겹치는 시간</span>
<span class="hljs-keyword">const</span> overlapTime = <span class="hljs-built_in">this</span>.config.windowSizeMs - elapsedInCurrentWindow;
<span class="hljs-comment">// 이전 윈도우와 겹치는 비율</span>
<span class="hljs-keyword">const</span> overlapRatio = overlapTime / <span class="hljs-built_in">this</span>.config.windowSizeMs;
<span class="hljs-comment">// 슬라이딩 윈도우 카운터 공식: 현재 윈도우 + (이전 윈도우 × 겹치는 비율)</span>
rate = currentWindow.count + <span class="hljs-number">1</span> + <span class="hljs-built_in">Math</span>.floor(previousWindow.count * overlapRatio);
}

<span class="hljs-keyword">return</span> rate;
}

<span class="hljs-keyword">private</span> getCurrentWindowStart(now: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(now / <span class="hljs-built_in">this</span>.config.windowSizeMs) * <span class="hljs-built_in">this</span>.config.windowSizeMs;
}

cleanup(): <span class="hljs-built_in">void</span> {
<span class="hljs-keyword">const</span> now = <span class="hljs-built_in">Date</span>.now();
<span class="hljs-keyword">const</span> currentWindowStart = <span class="hljs-built_in">this</span>.getCurrentWindowStart(now);
<span class="hljs-keyword">const</span> previousWindowStart = currentWindowStart - <span class="hljs-built_in">this</span>.config.windowSizeMs;

<span class="hljs-built_in">this</span>.previousWindows.forEach(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">window</span>, key</span>) =&gt;</span> {
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.windowStart &lt; previousWindowStart) {
<span class="hljs-built_in">this</span>.previousWindows.delete(key);
}
});

<span class="hljs-built_in">this</span>.currentWindows.forEach(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">window</span>, key</span>) =&gt;</span> {
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.windowStart &lt; currentWindowStart) {
<span class="hljs-built_in">this</span>.previousWindows.set(key, <span class="hljs-built_in">window</span>);
<span class="hljs-built_in">this</span>.currentWindows.delete(key);
}
});
}
}</code></pre>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h3 data-ke-size="size23">통합 테스트</h3>
            <pre
              id="code_1754792633988"
              class="typescript"
              data-ke-language="typescript"
              data-ke-type="codeblock"
            ><code class="hljs"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">"supertest"</span>;
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../app"</span>;
<span class="hljs-keyword">import</span> { createSlidingWindowCounterMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">"../middleware"</span>;

describe(<span class="hljs-string">"Sliding Window Counter Middleware Integration"</span>, <span class="hljs-function">() =&gt;</span> {
it(<span class="hljs-string">"rate limit 이하의 요청은 통과"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware({
<span class="hljs-attr">threshold</span>: <span class="hljs-number">3</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
}),
],
});

<span class="hljs-keyword">const</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([
request(app).get(<span class="hljs-string">"/"</span>),
request(app).get(<span class="hljs-string">"/"</span>),
request(app).get(<span class="hljs-string">"/"</span>),
]);

responses.forEach(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
expect(response.status).toBe(<span class="hljs-number">200</span>);
});
});

it(<span class="hljs-string">"rate limit 초과 시 429 응답"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware({
<span class="hljs-attr">threshold</span>: <span class="hljs-number">2</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
}),
],
});

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">429</span>);
});

it(<span class="hljs-string">"서로 다른 IP는 독립적으로 rate limit 적용"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware({
<span class="hljs-attr">threshold</span>: <span class="hljs-number">1</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
}),
],
});

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"1.1.1.1"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"1.1.1.1"</span>).expect(<span class="hljs-number">429</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"X-Forwarded-For"</span>, <span class="hljs-string">"2.2.2.2"</span>).expect(<span class="hljs-number">200</span>);
});

it(<span class="hljs-string">"커스텀 키 생성기 사용"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware(
{
<span class="hljs-attr">threshold</span>: <span class="hljs-number">2</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
},
{
<span class="hljs-attr">keyGenerator</span>: <span class="hljs-function">(<span class="hljs-params">req</span>) =&gt;</span> req.headers[<span class="hljs-string">"api-key"</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> || <span class="hljs-string">"anonymous"</span>,
}
),
],
});

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user1"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user1"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user1"</span>).expect(<span class="hljs-number">429</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).set(<span class="hljs-string">"api-key"</span>, <span class="hljs-string">"user2"</span>).expect(<span class="hljs-number">200</span>);
});

it(<span class="hljs-string">"skip 옵션으로 특정 요청 제외"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware(
{
<span class="hljs-attr">threshold</span>: <span class="hljs-number">1</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
},
{
<span class="hljs-attr">skip</span>: <span class="hljs-function">(<span class="hljs-params">req</span>) =&gt;</span> req.path === <span class="hljs-string">"/health"</span>,
}
),
],
});

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">429</span>);

<span class="hljs-comment">// health 엔드포인트는 rate limit 무시</span>
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/health"</span>).expect(<span class="hljs-number">404</span>); <span class="hljs-comment">// 라우트가 없어서 404지만 429는 아님</span>
});

it(<span class="hljs-string">"커스텀 에러 핸들러 사용"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware(
{
<span class="hljs-attr">threshold</span>: <span class="hljs-number">1</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
},
{
<span class="hljs-attr">onLimitReached</span>: <span class="hljs-function">(<span class="hljs-params">_req, res</span>) =&gt;</span> {
  res.status(<span class="hljs-number">503</span>).json({
    <span class="hljs-attr">error</span>: <span class="hljs-string">"Custom Error"</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">"Please slow down"</span>,
  });
},
}
),
],
});

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">503</span>);
expect(response.body).toEqual({
<span class="hljs-attr">error</span>: <span class="hljs-string">"Custom Error"</span>,
<span class="hljs-attr">message</span>: <span class="hljs-string">"Please slow down"</span>,
});
});

it(<span class="hljs-string">"다양한 HTTP 메서드 지원"</span>, <span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-keyword">const</span> app = createApp({
<span class="hljs-attr">middlewares</span>: [
createSlidingWindowCounterMiddleware({
<span class="hljs-attr">threshold</span>: <span class="hljs-number">5</span>,
<span class="hljs-attr">windowSizeMs</span>: <span class="hljs-number">1000</span>,
}),
],
});

<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).post(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).put(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).delete(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).patch(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">200</span>);
<span class="hljs-keyword">await</span> request(app).get(<span class="hljs-string">"/"</span>).expect(<span class="hljs-number">429</span>);
});

});</code></pre>
            <p></p>
            <figure
              class="imageblock alignCenter"
              data-ke-mobilestyle="widthOrigin"
              data-origin-width="1248"
              data-origin-height="428"
            >
              <span
                data-url="https://blog.kakaocdn.net/dna/bfnPe0/btsPPnp2qGy/AAAAAAAAAAAAAAAAAAAAAJzJZaKGZ8rXYKvMrxBVRiZ1it-juemLJNeg_8j644lz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=co7%2Bf%2BezLTKxYFhc81IPV%2B1YGh4%3D"
                data-phocus="https://blog.kakaocdn.net/dna/bfnPe0/btsPPnp2qGy/AAAAAAAAAAAAAAAAAAAAAJzJZaKGZ8rXYKvMrxBVRiZ1it-juemLJNeg_8j644lz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=co7%2Bf%2BezLTKxYFhc81IPV%2B1YGh4%3D"
                ><img
                  src="https://blog.kakaocdn.net/dna/bfnPe0/btsPPnp2qGy/AAAAAAAAAAAAAAAAAAAAAJzJZaKGZ8rXYKvMrxBVRiZ1it-juemLJNeg_8j644lz/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1756652399&amp;allow_ip=&amp;allow_referer=&amp;signature=co7%2Bf%2BezLTKxYFhc81IPV%2B1YGh4%3D"
                  srcset="
                    https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbfnPe0%2FbtsPPnp2qGy%2FAAAAAAAAAAAAAAAAAAAAAJzJZaKGZ8rXYKvMrxBVRiZ1it-juemLJNeg_8j644lz%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3Dco7%252Bf%252BezLTKxYFhc81IPV%252B1YGh4%253D
                  "
                  onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';"
                  loading="lazy"
                  width="1248"
                  height="428"
                  data-origin-width="1248"
                  data-origin-height="428"
                  data-phocus-index="6"
              /></span>
            </figure>
            <p></p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <h2 data-ke-size="size26">정리</h2>
            <p data-ke-size="size16">
              이렇게 세 가지 Window 기반 Rate Limiter 알고리즘을 비교하면 다음과
              같다.
            </p>
            <div>
              <table
                style="border-collapse: collapse; width: 100%"
                border="1"
                data-end="2821"
                data-start="2567"
                data-ke-align="alignLeft"
                data-ke-style="style13"
              >
                <tbody>
                  <tr>
                    <td style="text-align: center">알고리즘</td>
                    <td style="text-align: center">메모리 효율</td>
                    <td style="text-align: center">구현 난이도</td>
                    <td style="text-align: center">버스트 방지</td>
                    <td style="text-align: center">정확도</td>
                  </tr>
                  <tr data-end="2722" data-start="2672">
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2695"
                      data-start="2672"
                    >
                      Fixed Window Counter
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2703"
                      data-start="2695"
                    >
                      매우 높음
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2711"
                      data-start="2703"
                    >
                      매우 쉬움
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2716"
                      data-start="2711"
                    >
                      낮음
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2722"
                      data-start="2716"
                    >
                      중간
                    </td>
                  </tr>
                  <tr data-end="2769" data-start="2723">
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2748"
                      data-start="2723"
                    >
                      Sliding Window Logging
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2753"
                      data-start="2748"
                    >
                      낮음
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2758"
                      data-start="2753"
                    >
                      쉬움
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2763"
                      data-start="2758"
                    >
                      높음
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2769"
                      data-start="2763"
                    >
                      높음
                    </td>
                  </tr>
                  <tr data-end="2821" data-start="2770">
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2795"
                      data-start="2770"
                    >
                      Sliding Window Counter
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2800"
                      data-start="2795"
                    >
                      높음
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2805"
                      data-start="2800"
                    >
                      중간
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2810"
                      data-start="2805"
                    >
                      높음
                    </td>
                    <td
                      style="text-align: center"
                      data-col-size="sm"
                      data-end="2821"
                      data-start="2810"
                    >
                      높음(근사치)
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">&nbsp;</p>
            <p data-ke-size="size16">
              글이 길어져서,&nbsp; 원래 하려고했던 Nest Throttler에서 어떤
              알고리즘들을 채택했고 어떻게 커스터마이징했는지는 다음 포스팅에서
              해당 시리즈의 마무리로 다뤄보도록 하겠다.
            </p>
          </div>
          <!-- System - START -->
          <div class="revenue_unit_wrap">
            <div class="revenue_unit_item adfit">
              <div class="revenue_unit_info">728x90</div>
              <ins
                class="kakao_ad_area"
                style="
                  display: inline-block;
                  position: relative;
                  text-decoration: none;
                  min-width: 728px;
                  min-height: 90px;
                  width: 728px;
                  height: 90px;
                "
                data-ad-unit="DAN-isTIwaHDB2LH285K"
                data-ad-width="728px"
                data-ad-height="90px"
                id="kakao_ad_3rTWqo"
                ><div
                  data-ad-creative-wrap="outer"
                  style="position: absolute; max-height: inherit; inset: 0px"
                >
                  <div
                    data-ad-creative-wrap="inner"
                    id="4768b46c-f1be-47a7-aa6c-950733293470"
                    style="
                      position: absolute;
                      top: 0px;
                      left: 0px;
                      width: 100%;
                      height: 100%;
                      max-height: inherit;
                      border: 0px;
                    "
                  >
                    <iframe
                      id="f49a0022-e6ae-4f44-b295-84dd9f32488c"
                      name='{"id":"4768b46c-f1be-47a7-aa6c-950733293470","meta":{"shared":{"sf_ver":"1-1-0","ck_on":0,"flash_ver":0,"unitId":"DAN-isTIwaHDB2LH285K","requestId":"83fc4878-af46-4848-b712-c5bef154325a","usePrefersColorScheme":false},"conversionTracking":{"etxId":""},"adAttributes":{"unit":"DAN-isTIwaHDB2LH285K","width":"728px","height":"90px"}},"supports":{"exp-ovr":true,"exp-push":true,"read-cookie":false,"write-cookie":false},"geom":{"win":{"t":38,"b":1030,"l":0,"r":1477,"w":1477,"h":992},"self":{"t":38011.75,"b":38101.75,"l":374.5,"r":1102.5,"w":728,"h":90,"xiv":0,"yiv":0,"iv":0,"z":"auto"},"exp":{"t":38011.75,"b":0,"l":374.5,"r":374.5,"xs":0,"ys":0}},"winHasFocus":true,"html":"&lt;!doctype html&gt;\n&lt;html lang=\"ko\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n        &lt;meta http-equiv=\"imagetoolbar\" content=\"no\"&gt;\n        &lt;meta http-equiv=\"imagetoolbar\" content=\"false\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt;\n        &lt;meta name=\"robots\" content=\"noarchive\"&gt;\n        &lt;meta name=\"robots\" content=\"nosnippet\"&gt;\n        &lt;meta name=\"robots\" content=\"noindex\"&gt;\n        &lt;meta name=\"robots\" content=\"nofollow\"&gt;\n        &lt;meta name=\"robots\" content=\"noodp\"&gt;\n        &lt;meta name=\"google\" content=\"notranslate\"&gt;\n        &lt;meta name=\"referrer\" content=\"unsafe-url\"&gt;\n        &lt;title&gt;Advertisement&lt;/title&gt;\n\n        &lt;style type=\"text/css\"&gt;\n                * {\n                    margin: 0;\n                    padding: 0\n                }\n\n                body {\n                    width: 100%;\n                    text-align: center;\n                    background-color: #fff;\n                    -webkit-touch-callout: none\n                }\n\n                #adWrap {\n                    position: relative;\n                    overflow: hidden;\n                    width: 100%;\n                }\n        &lt;/style&gt;\n\n        &lt;link rel=\"dns-prefetch\" href=\"//t1.daumcdn.net\"/&gt;\n        &lt;link rel=\"dns-prefetch\" href=\"//analytics.ad.daum.net\"/&gt;\n    &lt;/head&gt;\n    &lt;body leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\"&gt;\n        &lt;div id=\"adWrap\"&gt;\n            &lt;iframe id=&apos;0a52a026&apos; name=&apos;0a52a026&apos; src=&apos;https://ads.as.criteo.com/delivery/r/afr.php?z=usZMaE-6_WTU_ujJ6gCgyw&amp;u=%7CRx7H1HiXvjKIBcH7cKWypJ6NJ6vfPTL94mGUlTAEjnI%3D%7C&amp;c1=0n2XosTo5ckbeNFvq0zVIcsyhyT3WKD0h8x1vhtYGkTsbtyQWbBcVUV_hOxmab55W83LuQKYFmLqiW6Vwgp5VqFu1tZns2b-zyrFT2mzACxwjTCtMoUU35ClQgRlfrbtwQv0VZDu6Rp1QkgbDyRWRK-8dgd1EKIGjc_E_QRppfRZbH7QcnXeDeMvSu26640Edk5vaOVT1rNeoo_8LM_HS7tgqWL2O2BKyTyP50Wd5vUF_GygskU71kEADOub4O3g6bj4XKjpjZPou7mypQEKmOYPimuVQxrnRm3uhbgA_sGb_yDclI1xBvD-7SyPU_FLPdbuCAWnvHugNepQGJuxLtgk4GoUh8sWnTud1tfCAqgeTArkLHxcNcmx-JR4KHGkpomPTKtdRZ1nl7HSOC0gJuu0p19rdVgRZWzCB672sSUT-Nw16EnhfWyUChjNgui-bthlq-Ieu9DgCZIQAE6DlB5oHFYNW1OLTZJfmisZN4qVEFzA67mhHZHHsN7NWNVZUSp3b6Qp7bBRpg-LOrd1Hc4mT80IyURtpdPAI8AlEsnmm3KZMp65VnnlecLYARaQh2QBkRgLt20VC7QdX2LEYrikE0iu-ZjP2p2R_Zb266N6VC7vZ6TRanyoTPrVpZrtnOKi0U1vCAeisZn4R92d28UDPWOE8nVxQe-OrlonqKur93HvJCUHpyIijEA3WKSeONSFfmD-ITT6DjhWXKcLzJWBJNtsPYzp&amp;ct0=https%3A%2F%2Fkaat.daum.net%2Fad%2Fclick_thirdparty%3Bkyson_version%3D1.0%3Brequest_id%3D83fc4878-af46-4848-b712-c5bef154325a-LXav%3Badunit_id%3DDAN-isTIwaHDB2LH285K%3Btemplate_seq%3D%3Bsdk_type%3Dweb%3Bmed_dsp_id%3DCRITEO_NEW%3Bbid_id%3D68a6d28826185d146ce9a359a64c0000%3Bdsp_id%3DCRITEO%3Bhratio%3D%3Bnetwork_type%3DGENERAL%3Bwratio%3D%3Bsdk_version%3D4.34.1%3Bad_type%3DBanner%3Bw%3D728%3Bh%3D90%3Bdummy%3D&apos; framespacing=&apos;0&apos; frameborder=&apos;no&apos; scrolling=&apos;no&apos; width=&apos;728&apos; height=&apos;90&apos;&gt;&lt;/iframe&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n"}'
                      frameborder="0"
                      scrolling="no"
                      marginwidth="0"
                      marginheight="0"
                      allowtransparency="true"
                      src="https://t1.daumcdn.net/kas/static/safeframe.html"
                      style="
                        position: absolute;
                        top: 0px;
                        left: 0px;
                        width: 100%;
                        height: 100%;
                        max-height: inherit;
                        border: 0px;
                        min-width: 728px;
                        min-height: 90px;
                      "
                    ></iframe>
                  </div></div
              ></ins>
              <script
                type="text/javascript"
                src="//t1.daumcdn.net/kas/static/ba.min.js"
                async="async"
              ></script>
            </div>
          </div>
          <div class="revenue_unit_wrap">
            <div class="revenue_unit_item adsense">
              <div class="revenue_unit_info">300x250</div>
              <script
                src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
                async="async"
              ></script>
              <ins
                class="adsbygoogle"
                style="display: inline-block; width: 300px; height: 250px"
                data-ad-host="ca-host-pub-9691043933427338"
                data-ad-client="ca-pub-7990673941637819"
                data-adsbygoogle-status="done"
                ><div
                  id="aswift_2_host"
                  style="
                    border: none;
                    height: 250px;
                    width: 300px;
                    margin: 0px;
                    padding: 0px;
                    position: relative;
                    visibility: visible;
                    background-color: transparent;
                    display: inline-block;
                  "
                ></div
              ></ins>
              <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            </div>
          </div>
          <!-- System - END -->

          <div class="container_postbtn #post_button_group">
            <div class="postbtn_like">
              <script>
                window.ReactionButtonType = "reaction";
                window.ReactionApiUrl = "//mag1c.tistory.com/reaction";
                window.ReactionReqBody = {
                  entryId: 578,
                };
              </script>
              <div
                class="wrap_btn"
                id="reaction-578"
                data-tistory-react-app="Reaction"
              >
                <button
                  class="btn_post uoc-icon"
                  data-tiara-action-name="공감_클릭"
                >
                  <div class="uoc-icon">
                    <span class="ico_postbtn ico_like">좋아요</span
                    ><span class="txt_like uoc-count">4</span>
                  </div>
                </button>
              </div>
              <div class="wrap_btn wrap_btn_share">
                <button
                  type="button"
                  class="btn_post sns_btn btn_share"
                  aria-expanded="false"
                  data-thumbnail-url="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FnGocc%2FbtsPL2HK8SH%2FAAAAAAAAAAAAAAAAAAAAAAFHDgWp7P9_tt0RS860yktikx9AefdeOW3iuyV3WcOE%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXzQLxPq7chHhm2voP29vm69Vl4E%253D"
                  data-title="[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘"
                  data-description="[목차]1. Rate Limit이란? 설계 시 주의사항2. Token Bucket, Leaky Bucket 알고리즘3. Fixed Window, Sliding Window Logging, Sliding Window Counter 알고리즘 지난 포스팅에선, Bucket 방식의 Token Bucket, Leaky Bucket 알고리즘을 살펴보고, 직접 구현과 테스트를 진행했다.이번 글에선 Window 방식의 알고리즘인 Fixed Window Counter, Sliding Window Logging, Sliding Window Counter을 다룬다. 모든 예제 코드는 아래 Github에서 확인할 수 있다. GitHub - mag123c/rate-limiterContribute to mag123c/rate-.."
                  data-profile-image="https://tistory1.daumcdn.net/tistory/5765047/attach/03766535b5904f7e828f4bfd24bb1970"
                  data-profile-name="mag1c"
                  data-pc-url="https://mag1c.tistory.com/578"
                  data-relative-pc-url="/578"
                  data-blog-title="개발잘하고싶다"
                >
                  <span class="ico_postbtn ico_share">공유하기</span>
                </button>
                <div class="layer_post" id="tistorySnsLayer">
                  <div class="bundle_post">
                    <button
                      class="btn_mark"
                      data-service="url"
                      data-tiara-action-name="공유_클릭"
                      data-tiara-layer="copy_url"
                      data-tiara-copy="URL복사"
                    >
                      <span class="ico_sns ico_url"></span
                      ><span class="txt_sns">URL 복사</span></button
                    ><button
                      class="btn_mark"
                      data-service="kakaotalk"
                      data-tiara-action-name="공유_클릭"
                      data-tiara-layer="kakao"
                      data-tiara-copy="카카오톡 공유"
                    >
                      <span class="ico_sns ico_kt"></span
                      ><span class="txt_sns">카카오톡 공유</span></button
                    ><button
                      class="btn_mark"
                      data-service="facebook"
                      data-tiara-action-name="공유_클릭"
                      data-tiara-layer="facebook"
                      data-tiara-copy="페이스북 공유"
                    >
                      <span class="ico_sns ico_fb"></span
                      ><span class="txt_sns">페이스북 공유</span></button
                    ><button
                      class="btn_mark"
                      data-service="twitter"
                      data-tiara-action-name="공유_클릭"
                      data-tiara-layer="X"
                      data-tiara-copy="엑스 공유"
                    >
                      <span class="ico_sns ico_x"></span
                      ><span class="txt_sns">엑스 공유</span></button
                    ><span class="ico_postbtn ico_arrbt"></span>
                  </div>
                </div>
              </div>
              <div class="wrap_btn">
                <button
                  type="button"
                  class="btn_post"
                  data-entry-id="578"
                  data-tiara-action-name="글통계_클릭"
                >
                  <span class="ico_postbtn ico_statistics">통계</span>
                </button>
              </div>
              <div
                class="wrap_btn wrap_btn_etc"
                data-entry-id="578"
                data-entry-visibility="public"
                data-category-visibility="public"
              >
                <button
                  type="button"
                  class="btn_post btn_etc1"
                  aria-expanded="false"
                >
                  <span class="ico_postbtn ico_etc">게시글 관리</span>
                </button>
                <div class="layer_post" id="tistoryEtcLayer"></div>
              </div>
            </div>
            <div class="postbtn_ccl" data-ccl-type="2" data-ccl-derive="1">
              <a
                href="https://creativecommons.org/licenses/by/4.0/deed.ko"
                target="_blank"
                class="link_ccl"
                rel="license"
              >
                <span class="bundle_ccl">
                  <span class="ico_postbtn ico_ccl1">저작자표시</span>
                </span>
                <span class="screen_out">(새창열림)</span>
              </a>
            </div>
            <!--
<rdf:RDF xmlns="https://web.resource.org/cc/" xmlns:dc="https://purl.org/dc/elements/1.1/" xmlns:rdf="https://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="">
<license rdf:resource="https://creativecommons.org/licenses/by/4.0/deed.ko" />
</Work>
<License rdf:about="https://creativecommons.org/licenses/by/4.0/deed.ko">
<permits rdf:resource="https://web.resource.org/cc/Reproduction"/>
<permits rdf:resource="https://web.resource.org/cc/Distribution"/>
<requires rdf:resource="https://web.resource.org/cc/Notice"/>
<requires rdf:resource="https://web.resource.org/cc/Attribution"/>
<permits rdf:resource="https://web.resource.org/cc/DerivativeWorks"/>

</License>
</rdf:RDF>
-->
            <div data-tistory-react-app="SupportButton"></div>
          </div>
        </div>

        <!-- 게시글 태그 -->

        <div class="post-tags">
          <a href="/tag/Fixed%20Window" rel="tag">Fixed Window</a>,
          <a href="/tag/Fixed%20Window%20Counter" rel="tag"
            >Fixed Window Counter</a
          >, <a href="/tag/Rate%20Limit" rel="tag">Rate Limit</a>,
          <a href="/tag/Rate%20Limit%20Algorithm" rel="tag"
            >Rate Limit Algorithm</a
          >, <a href="/tag/Rate%20Limiter" rel="tag">Rate Limiter</a>,
          <a href="/tag/Rate%20Limiter%20Algorithm" rel="tag"
            >Rate Limiter Algorithm</a
          >, <a href="/tag/Sliding%20Window" rel="tag">Sliding Window</a>,
          <a href="/tag/Sliding%20Window%20Counter" rel="tag"
            >Sliding Window Counter</a
          >,
          <a href="/tag/Sliding%20Window%20Logging" rel="tag"
            >Sliding Window Logging</a
          >, <a href="/tag/throttler" rel="tag">throttler</a>
        </div>

        <!-- 게시글 액션 버튼 -->
        <div class="post-actions">
          <button class="action-btn like-btn" onclick="">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
              ></path>
            </svg>
            <span>공감</span>
          </button>
          <button class="action-btn share-btn" onclick="">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="18" cy="5" r="3"></circle>
              <circle cx="6" cy="12" r="3"></circle>
              <circle cx="18" cy="19" r="3"></circle>
              <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
              <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
            <span>퍼가기</span>
          </button>
          <button class="action-btn subscribe-btn">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"
              ></path>
            </svg>
            <span>구독하기</span>
          </button>
        </div>

        <!-- 작성자 프로필 -->
        <div class="author-profile">
          <div class="author-avatar">
            <img
              src="https://tistory1.daumcdn.net/tistory/5765047/attach/03766535b5904f7e828f4bfd24bb1970"
              alt="mag1c"
              onerror="this.src='https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_L.png'"
            />
          </div>
          <div class="author-info">
            <h3 class="author-name">mag1c</h3>
            <p class="author-desc">diehreo@gmail.com</p>
            <div class="author-links"></div>
          </div>
        </div>

        <!-- 댓글 -->
        <div data-tistory-react-app="Namecard">
          <div class="tt_box_namecard">
            <div class="tt_cont">
              <a class="tt_tit_cont" href="https://mag1c.tistory.com"
                >개발잘하고싶다</a
              ><a class="tt_desc" href="https://mag1c.tistory.com"
                >diehreo@gmail.com</a
              >
            </div>
            <a class="tt_wrap_thumb" href="https://mag1c.tistory.com"
              ><span
                class="tt_thumb_g"
                style="
                  background-image: url('https://img1.daumcdn.net/thumb/S56x56/?scode=mtistory2&amp;fname=https%3A%2F%2Ftistory1.daumcdn.net%2Ftistory%2F5765047%2Fattach%2F03766535b5904f7e828f4bfd24bb1970');
                "
              ></span
            ></a>
          </div>
        </div>
        <div id="entry578Comment">
          <section class="comments-section">
            <h3>댓글</h3>

            <div class="comment-list">
              <div class="comment">
                <div class="comment-avatar">
                  <img
                    src="https://img1.daumcdn.net/thumb/C100x100/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Ftistory_admin%2Fstatic%2Fmanage%2Fimages%2Fr3%2Fdefault_L.png"
                    alt="Avatar"
                    onerror="this.src='https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_S.png'"
                  />
                </div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">
                      <a
                        href="https://sky.pluscode.co.kr"
                        onclick="return openLinkInNewWindow(this)"
                        >한달동안</a
                      ><span
                        class="tistoryProfileLayerTrigger"
                        onclick="TistoryProfile.show(event, this, null); return false;"
                      ></span
                    ></span>
                    <span class="comment-date"
                      >2025.08.11 19:21
                      <a
                        href="/toolbar/popup/abuseReport/?entryId=578&amp;commentId=27079544"
                        onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;"
                        >신고</a
                      ></span
                    >
                  </div>
                  <div class="comment-content">잘 봤슴다!</div>
                </div>
              </div>
              <div class="comment">
                <div class="comment-avatar">
                  <img
                    src="https://img1.daumcdn.net/thumb/C100x100/?scode=mtistory2&amp;fname=https%3A%2F%2Ftistory1.daumcdn.net%2Ftistory%2F6137056%2Fattach%2F5a1602c773e447cf8094b694a65fcf7e"
                    alt="Avatar"
                    onerror="this.src='https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_S.png'"
                  />
                </div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author"
                      ><img
                        src="https://doctorjazz.tistory.com/favicon.ico"
                        width="16"
                        height="16"
                        alt="Favicon of https://doctorjazz.tistory.com"
                        onerror="this.onerror=null;this.parentNode.removeChild(this)" />
                      <img
                        src="https://doctorjazz.tistory.com/index.gif"
                        alt="BlogIcon"
                        width="16"
                        height="16"
                        onerror="this.parentNode.removeChild(this)" />
                      <a
                        href="https://doctorjazz.tistory.com"
                        onclick="return openLinkInNewWindow(this)"
                        >닥터재즈</a
                      ><span
                        class="tistoryProfileLayerTrigger"
                        onclick="TistoryProfile.show(event, this, null); return false;"
                      ></span
                    ></span>
                    <span class="comment-date"
                      >2025.08.12 02:02
                      <a
                        href="/toolbar/popup/abuseReport/?entryId=578&amp;commentId=27084557"
                        onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;"
                        >신고</a
                      ></span
                    >
                  </div>
                  <div class="comment-content">
                    mag1c님 유익한 정보 감사해용^^
                  </div>
                </div>
              </div>
              <div class="comment">
                <div class="comment-avatar">
                  <img
                    src="https://img1.daumcdn.net/thumb/C100x100/?scode=mtistory2&amp;fname=https%3A%2F%2Ftistory1.daumcdn.net%2Ftistory%2F7042671%2Fattach%2F5585d2c997c347108c3a8b1624a453cf"
                    alt="Avatar"
                    onerror="this.src='https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_S.png'"
                  />
                </div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">
                      <a
                        href="https://eonyainy.tistory.com"
                        onclick="return openLinkInNewWindow(this)"
                        >어니이니</a
                      ><span
                        class="tistoryProfileLayerTrigger"
                        onclick="TistoryProfile.show(event, this, null); return false;"
                      ></span
                    ></span>
                    <span class="comment-date"
                      >2025.08.12 06:41
                      <a
                        href="/toolbar/popup/abuseReport/?entryId=578&amp;commentId=27086291"
                        onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;"
                        >신고</a
                      ></span
                    >
                  </div>
                  <div class="comment-content">
                    mag1c님 늘 느끼지만 필력이 너무좋으신것같아요..! 행복한
                    하루보내세요! 도움드리고 갈께요 :)♥
                  </div>
                </div>
              </div>
              <div class="comment">
                <div class="comment-avatar">
                  <img
                    src="https://img1.daumcdn.net/thumb/C100x100/?scode=mtistory2&amp;fname=https%3A%2F%2Ftistory1.daumcdn.net%2Ftistory%2F7745753%2Fattach%2Fdcf924eea8fd401eb748138ea3006fff"
                    alt="Avatar"
                    onerror="this.src='https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_S.png'"
                  />
                </div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">
                      <img
                        src="https://digital-nagane.tistory.com/index.gif"
                        alt="BlogIcon"
                        width="16"
                        height="16"
                        onerror="this.parentNode.removeChild(this)" />
                      <a
                        href="https://digital-nagane.tistory.com"
                        onclick="return openLinkInNewWindow(this)"
                        >digital-nagane</a
                      ><span
                        class="tistoryProfileLayerTrigger"
                        onclick="TistoryProfile.show(event, this, null); return false;"
                      ></span
                    ></span>
                    <span class="comment-date"
                      >2025.08.13 19:54
                      <a
                        href="/toolbar/popup/abuseReport/?entryId=578&amp;commentId=27133475"
                        onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;"
                        >신고</a
                      ></span
                    >
                  </div>
                  <div class="comment-content">잘보고 갑니다.</div>
                </div>
              </div>
              <div class="comment">
                <div class="comment-avatar">
                  <img
                    src="https://img1.daumcdn.net/thumb/C100x100/?scode=mtistory2&amp;fname=https%3A%2F%2Ftistory1.daumcdn.net%2Ftistory%2F8212215%2Fattach%2Fd73f72596bb84dd88bdbf298bc0edb50"
                    alt="Avatar"
                    onerror="this.src='https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_S.png'"
                  />
                </div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">
                      <a
                        href="https://eunseong2.tistory.com"
                        onclick="return openLinkInNewWindow(this)"
                        >생활정보샘</a
                      ><span
                        class="tistoryProfileLayerTrigger"
                        onclick="TistoryProfile.show(event, this, null); return false;"
                      ></span
                    ></span>
                    <span class="comment-date"
                      >2025.08.13 21:00
                      <a
                        href="/toolbar/popup/abuseReport/?entryId=578&amp;commentId=27135421"
                        onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;"
                        >신고</a
                      ></span
                    >
                  </div>
                  <div class="comment-content">잘 보고 갑니다 감사합니다</div>
                </div>
              </div>
              <div
                id="none_display_division_for_comment_list_578"
                style="display: none"
              ></div>
              <script type="text/javascript">
                setInitialEntryComments(578, 1755763334);
              </script>
            </div>

            <form
              method="post"
              action="/comment/add/578"
              onsubmit="return false"
              style="margin: 0"
            >
              <div class="comment-input-wrapper">
                <textarea
                  name="comment"
                  placeholder="댓글을 입력하세요"
                  required=""
                ></textarea>

                <div class="comment-form-footer">
                  <button
                    type="submit"
                    onclick="addComment(this, 578); return false;"
                  >
                    작성
                  </button>
                </div>
              </div>
            </form>
          </section>
        </div>
        <script type="text/javascript">
          loadedComments[578] = true;
          findFragmentAndHighlight(578);
        </script>
      </article>

      <!-- 방명록 페이지 -->

      <!-- 애드센스 광고 -->
      <!-- 주의: data-ad-client를 본인의 애드센스 발행자 ID로 변경하세요 -->
      <!-- 현재값: ca-pub-7990673941637819 (테스트용) -->
      <div class="ad-container">
        <ins
          class="adsbygoogle"
          style="display: block; height: 280px"
          data-ad-client="ca-pub-7990673941637819"
          data-ad-slot="auto"
          data-ad-format="auto"
          data-full-width-responsive="true"
          data-adsbygoogle-status="done"
          ><div
            id="aswift_4_host"
            style="
              border: none;
              height: 280px;
              width: 1200px;
              margin: 0px;
              padding: 0px;
              position: relative;
              visibility: visible;
              background-color: transparent;
              display: inline-block;
            "
          ></div
        ></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </main>
    <ins
      class="adsbygoogle adsbygoogle-noablate"
      data-adsbygoogle-status="done"
      style="display: none !important"
      data-ad-status="unfilled"
      ><div
        id="aswift_3_host"
        style="
          border: none;
          height: 0px;
          width: 0px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      >
        <iframe
          id="aswift_3"
          name="aswift_3"
          browsingtopics="true"
          style="
            left: 0;
            position: absolute;
            top: 0;
            border: 0;
            width: undefinedpx;
            height: undefinedpx;
            min-height: auto;
            max-height: none;
            min-width: auto;
            max-width: none;
          "
          sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
          frameborder="0"
          marginwidth="0"
          marginheight="0"
          vspace="0"
          hspace="0"
          allowtransparency="true"
          scrolling="no"
          allow="attribution-reporting; run-ad-auction"
          src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-9527582522912841&amp;output=html&amp;adk=3631219909&amp;adf=2191680543&amp;lmt=1755763336&amp;plat=2%3A16777216%2C4%3A16%2C9%3A134250504%2C16%3A8388608%2C17%3A32%2C24%3A32%2C25%3A32%2C30%3A1081344%2C32%3A32%2C41%3A32%2C42%3A32&amp;plas=131x784_l&amp;format=0x0&amp;url=https%3A%2F%2Fmag1c.tistory.com%2F578&amp;host=ca-host-pub-9691043933427338&amp;pra=5&amp;wgl=1&amp;aihb=0&amp;asro=0&amp;aifxl=29_18~30_19&amp;itsi=0&amp;aiapm=0.1542&amp;aiapmd=0.25178&amp;aiapmi=0.16&amp;aiapmid=1&amp;aiact=0.5423&amp;aiactd=0.7&amp;aicct=0.7&amp;aicctd=0.5799&amp;ailct=0.5849&amp;ailctd=0.65&amp;aimart=4&amp;aimartd=4&amp;uach=WyJtYWNPUyIsIjE1LjMuMiIsImFybSIsIiIsIjEzOS4wLjcyNTguMTI4IixudWxsLDAsbnVsbCwiNjQiLFtbIk5vdDtBPUJyYW5kIiwiOTkuMC4wLjAiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMzkuMC43MjU4LjEyOCJdLFsiQ2hyb21pdW0iLCIxMzkuMC43MjU4LjEyOCJdXSwwXQ..&amp;abgtt=8&amp;dt=1755763336641&amp;bpp=1&amp;bdt=175&amp;idt=163&amp;shv=r20250820&amp;mjsv=m202508180101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D5018e9ccedf0d7c2%3AT%3D1741570656%3ART%3D1755763316%3AS%3DALNI_MatYxTeIInIUA9ZbghaZbF93sM1Cg&amp;gpic=UID%3D0000105a75ec024d%3AT%3D1741570656%3ART%3D1755763316%3AS%3DALNI_MZECL9seRb4ddz2UcE_lXgZK2hhqg&amp;eo_id_str=ID%3Df8536258bd7e30a2%3AT%3D1741570656%3ART%3D1755763316%3AS%3DAA-AfjYxxXNSdWC25VITlOo1bhPZ&amp;prev_fmts=1120x280%2C728x90&amp;nras=1&amp;correlator=4042369695092&amp;frm=20&amp;pv=1&amp;u_tz=540&amp;u_his=3&amp;u_h=1117&amp;u_w=1728&amp;u_ah=1079&amp;u_aw=1728&amp;u_cd=30&amp;u_sd=2&amp;dmc=8&amp;adx=-12245933&amp;ady=-12245933&amp;biw=1477&amp;bih=992&amp;scr_x=0&amp;scr_y=0&amp;eid=31094074%2C31094152%2C31094155%2C95362656%2C95367554%2C95368763%2C95369706%2C95368522%2C95359265%2C95368427%2C95340253%2C95340255&amp;oid=2&amp;pvsid=8937527436404578&amp;tmod=1468334599&amp;uas=0&amp;nvt=1&amp;fsapi=1&amp;ref=https%3A%2F%2Fmag1c.tistory.com%2F&amp;fc=896&amp;brdim=0%2C38%2C0%2C38%2C1728%2C38%2C1728%2C1079%2C1477%2C992&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=32768&amp;bc=31&amp;bz=1.17&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;pgls=CAk.&amp;ifi=4&amp;uci=a!4&amp;fsb=1&amp;dtd=170"
          data-google-container-id="a!4"
          tabindex="0"
          title="Advertisement"
          aria-label="Advertisement"
          data-load-complete="true"
        ></iframe></div
    ></ins>

    <!-- 플로팅 버튼 -->
    <div class="floating-buttons">
      <button class="subscribe-floating" aria-label="구독">
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
        </svg>
        <span>구독</span>
      </button>
      <a href="/guestbook" class="guestbook-floating" aria-label="방명록">
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
          ></path>
        </svg>
        <span>방명록</span>
      </a>
    </div>

    <!-- 푸터 -->
    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-links"></div>
        <div class="footer-copyright">
          <p>
            Powered by TISTORY | Designed by
            <a href="https://mag1c.tistory.com" target="_blank">mag1c</a>
          </p>
        </div>
      </div>
    </footer>

    <script src="https://tistory1.daumcdn.net/tistory/5765047/skin/images/script.js?_version_=1755699179"></script>
    <div class="#menubar menu_toolbar">
      <h2 class="screen_out">티스토리툴바</h2>
      <div
        class="btn_tool btn_tool_type1"
        id="menubar_wrapper"
        data-tistory-react-app="Menubar"
      >
        <button class="btn_menu_toolbar btn_menu_type2">
          <span class="img_common_tistory ico_tistory_sign">관리메뉴열기</span>
        </button>
        <div class="header_layer layer_profile" style="display: none">
          <div class="inner_header_layer">
            <h2 class="screen_out">개인정보</h2>
            <div class="info_profile">
              <a class="txt_id txt_id_type2" href="#">mag1c</a
              ><span class="txt_email">95jjh@naver.com</span
              ><a
                class="link_setting link_setting_type2"
                href="https://www.tistory.com/member"
                >계정관리</a
              >
            </div>
            <div class="wrap_list #blogList" style="max-height: 300px">
              <div>
                <h3 class="tit_list_type">운영중인 블로그</h3>
                <div class="info_profile info_profile_type1">
                  <a class="txt_id" href="https://mag1c.tistory.com"
                    >개발잘하고싶다</a
                  ><a
                    class="img_common_tistory link_edit"
                    href="https://mag1c.tistory.com/manage/post"
                    >쓰기</a
                  ><a
                    class="img_common_tistory link_setting"
                    href="https://mag1c.tistory.com/manage"
                    >블로그 관리</a
                  >
                </div>
                <div class="info_profile info_profile_type1">
                  <a class="txt_id" href="https://customskintest.tistory.com"
                    >custom-skin</a
                  ><a
                    class="img_common_tistory link_edit"
                    href="https://customskintest.tistory.com/manage/post"
                    >쓰기</a
                  ><a
                    class="img_common_tistory link_setting"
                    href="https://customskintest.tistory.com/manage"
                    >블로그 관리</a
                  >
                </div>
              </div>
            </div>
            <div class="wrap_toolbar">
              <h2 class="screen_out">이동링크목록</h2>
              <ul class="list_toolbar">
                <li>
                  <a class="link_list" href="https://www.tistory.com"
                    >티스토리 홈</a
                  >
                </li>
                <li>
                  <a class="link_list" href="https://www.tistory.com/feed"
                    >피드</a
                  >
                </li>
                <li><a class="link_list" href="#">로그아웃</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="header_layer tooltip">
          <div class="inner_header_layer">
            <p class="desc_tooltip">
              메뉴바를 클릭하면 계정을 관리할 수 있어요
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="layer_tooltip">
      <div class="inner_layer_tooltip">
        <p class="desc_g"></p>
      </div>
    </div>
    <div
      id="editEntry"
      style="
        position: absolute;
        width: 1px;
        height: 1px;
        left: -100px;
        top: -100px;
      "
    ></div>

    <!-- DragSearchHandler - START -->
    <script src="//search1.daumcdn.net/search/statics/common/js/g/search_dragselection.min.js"></script>

    <!-- DragSearchHandler - END -->

    <!-- SyntaxHighlight - START -->
    <link
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/styles/atom-one-dark-reasonable.min.css"
      rel="stylesheet"
    />
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/delphi.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/php.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/python.min.js"></script>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/r.min.js"
      defer=""
    ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/ruby.min.js"></script>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/scala.min.js"
      defer=""
    ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/shell.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/sql.min.js"></script>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/swift.min.js"
      defer=""
    ></script>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/typescript.min.js"
      defer=""
    ></script>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/languages/vbnet.min.js"
      defer=""
    ></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>

    <!-- SyntaxHighlight - END -->

    <div
      style="
        margin: 0;
        padding: 0;
        border: none;
        background: none;
        float: none;
        clear: none;
        z-index: 0;
      "
    ></div>
    <script
      type="text/javascript"
      src="https://tistory1.daumcdn.net/tistory_admin/userblog/userblog-39ee03342e373848ba7c0bb12e153b29db04aa6b/static/script/common.js"
    ></script>
    <script type="text/javascript">
      window.roosevelt_params_queue = window.roosevelt_params_queue || [
        { channel_id: "dk", channel_label: "{tistory}" },
      ];
    </script>
    <script
      type="text/javascript"
      src="//t1.daumcdn.net/midas/rt/dk_bt/roosevelt_dk_bt.js"
      async="async"
    ></script>

    <script>
      window.tiara = {
        svcDomain: "user.tistory.com",
        section: "글뷰",
        trackPage: "글뷰_보기",
        page: "글뷰",
        key: "5765047-578",
        customProps: {
          userId: "5711895",
          blogId: "5765047",
          entryId: "578",
          role: "owner",
          trackPage: "글뷰_보기",
          filterTarget: false,
        },
        entry: {
          entryId: "578",
          entryTitle:
            "[Rate Limit - 3] Fixed Window Counter, Sliding Window Logging, Sliding Window Counter 알고리즘",
          entryType: "POST",
          categoryName: "카테고리 없음",
          categoryId: "0",
          serviceCategoryName: null,
          serviceCategoryId: null,
          author: "5711895",
          authorNickname: "mag1c",
          blogNmae: "개발잘하고싶다",
          image: "kage@nGocc/btsPL2HK8SH/1luTxUGjzjKGmnmbIm0vR1",
          plink: "/578",
          tags: [
            "Fixed Window",
            "Fixed Window Counter",
            "Rate Limit",
            "Rate Limit Algorithm",
            "Rate Limiter",
            "Rate Limiter Algorithm",
            "Sliding Window",
            "Sliding Window Counter",
            "Sliding Window Logging",
            "throttler",
          ],
        },
        kakaoAppKey: "3e6ddd834b023f24221217e370daed18",
        appUserId: "2515188820",
      };
    </script>
    <script
      type="module"
      src="https://t1.daumcdn.net/tistory_admin/frontend/tiara/v1.0.5/index.js"
    ></script>
    <script
      src="https://t1.daumcdn.net/tistory_admin/frontend/tiara/v1.0.5/polyfills-legacy.js"
      nomodule="true"
      defer="true"
    ></script>
    <script
      src="https://t1.daumcdn.net/tistory_admin/frontend/tiara/v1.0.5/index-legacy.js"
      nomodule="true"
      defer="true"
    ></script>

    <div id="__phocus__" class="__phocus__" tabindex="-1"></div>
    <div id="shortcutLayer" class="doc_help" style="display: none">
      <button class="btn_doc_close">닫기</button>
      <h2 class="title">단축키</h2>
      <div class="content mac_platform">
        <div class="container">
          <h3 class="item_title">내 블로그</h3>
          <table class="item">
            <tbody>
              <tr>
                <th>내 블로그 - 관리자 홈 전환</th>
                <td>
                  <div class="pc">
                    <kbd>Q</kbd>
                  </div>
                  <div class="mac">
                    <kbd>Q</kbd>
                  </div>
                </td>
              </tr>

              <tr>
                <th>새 글 쓰기</th>
                <td>
                  <div class="pc">
                    <kbd>W</kbd>
                  </div>
                  <div class="mac">
                    <kbd>W</kbd>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <h3 class="item_title">블로그 게시글</h3>
          <table class="item">
            <tbody>
              <tr>
                <th>글 수정 (권한 있는 경우)</th>
                <td>
                  <div class="pc">
                    <kbd>E</kbd>
                  </div>
                  <div class="mac">
                    <kbd>E</kbd>
                  </div>
                </td>
              </tr>

              <tr>
                <th>댓글 영역으로 이동</th>
                <td>
                  <div class="pc">
                    <kbd>C</kbd>
                  </div>
                  <div class="mac">
                    <kbd>C</kbd>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="container">
          <h3 class="item_title">모든 영역</h3>
          <table class="item">
            <tbody>
              <tr>
                <th>이 페이지의 URL 복사</th>
                <td>
                  <div class="pc">
                    <kbd>S</kbd>
                  </div>
                  <div class="mac">
                    <kbd>S</kbd>
                  </div>
                </td>
              </tr>

              <tr>
                <th>맨 위로 이동</th>
                <td>
                  <div class="pc">
                    <kbd>T</kbd>
                  </div>
                  <div class="mac">
                    <kbd>T</kbd>
                  </div>
                </td>
              </tr>

              <tr>
                <th>티스토리 홈 이동</th>
                <td>
                  <div class="pc">
                    <kbd>H</kbd>
                  </div>
                  <div class="mac">
                    <kbd>H</kbd>
                  </div>
                </td>
              </tr>

              <tr>
                <th>단축키 안내</th>
                <td>
                  <div class="pc"><kbd>Shift</kbd> + <kbd>/</kbd></div>
                  <div class="mac"><kbd>⇧</kbd> + <kbd>/</kbd></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="info">
        * 단축키는 한글/영문 대소문자로 이용 가능하며, 티스토리 기본
        도메인에서만 동작합니다.
      </p>
    </div>
    <iframe
      src="https://www.google.com/recaptcha/api2/aframe"
      width="0"
      height="0"
      style="display: none"
    ></iframe>
  </body>
  <iframe
    id="google_esf"
    name="google_esf"
    src="https://googleads.g.doubleclick.net/pagead/html/r20250820/r20190131/zrt_lookup_fy2021.html"
    style="display: none"
  ></iframe>
</html>
